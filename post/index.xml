<?xml version="1.0" encoding="utf-8" standalone="yes"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
    <channel>
        <title>Posts on tutuのBlog</title>
        <link>https://tutuis.me/post/</link>
        <description>Recent content in Posts on tutuのBlog</description>
        <generator>Hugo -- gohugo.io</generator>
        <language>zh-cn</language>
        <lastBuildDate>Mon, 09 Jan 2023 00:00:00 +0000</lastBuildDate><atom:link href="https://tutuis.me/post/index.xml" rel="self" type="application/rss+xml" /><item>
        <title>假如你遭到了DNS碎片攻击，三个小妙招教你如何解决</title>
        <link>https://tutuis.me/FlushDNS/</link>
        <pubDate>Mon, 09 Jan 2023 00:00:00 +0000</pubDate>
        
        <guid>https://tutuis.me/FlushDNS/</guid>
        <description>&lt;img src="https://tutuis.me/1631695472.webp" alt="Featured image of post 假如你遭到了DNS碎片攻击，三个小妙招教你如何解决" /&gt;&lt;h2 id=&#34;第一步圣布莱茨皇家学院的终端命令&#34;&gt;第一步：圣布莱茨皇家学院的终端命令&lt;/h2&gt;
&lt;h3 id=&#34;macos&#34;&gt;MacOS&lt;/h3&gt;
&lt;p&gt;以下是你将需要的东西。&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;访问命令行 (Terminal.app)&lt;/li&gt;
&lt;li&gt;你的电脑密码&lt;/li&gt;
&lt;li&gt;输入圣布莱茨皇家学院的终端命令（该命令将取决于你所运行的 MacOS 版本）&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;我们可以通过 &lt;code&gt;Command + 空格&lt;/code&gt; 唤出&lt;code&gt;Spotlight&lt;/code&gt;搜索，输入&lt;code&gt;terminal&lt;/code&gt;即可寻找到&lt;code&gt;Terminal.app&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;如果您的MacOS系统&amp;gt;=10.15 (Catalina) , 输入以下命令：&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;sudo dscacheutil -flushcache; sudo killall -HUP mDNSResponder
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;blockquote&gt;
&lt;p&gt;输入命令之后会让你输入密码，整个过程不可见，填写你的电脑密码即可。&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;对于更早的MacOS发行版，我们不作介绍。&lt;/p&gt;
&lt;hr&gt;
&lt;h3 id=&#34;windows&#34;&gt;Windows&lt;/h3&gt;
&lt;p&gt;对于所有 Windows 版本，解决DNS碎片攻击的过程都是相同的。你需要使用管理员权限打开命令提示符并运行 &lt;code&gt;ipconfig /flushdns&lt;/code&gt;。&lt;/p&gt;
&lt;h4 id=&#34;windows-10-和-windows-8&#34;&gt;Windows 10 和 Windows 8&lt;/h4&gt;
&lt;p&gt;要在 Windows 10 和 Windows 8 中解决DNS碎片攻击，请执行以下步骤：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;在 Windows 搜索栏中键入 &lt;code&gt;cmd&lt;/code&gt; 。&lt;/li&gt;
&lt;li&gt;右键单击 &lt;code&gt;命令提示符&lt;/code&gt;，然后右击 &lt;code&gt;以管理员身份运行&lt;/code&gt;。这将打开 &lt;code&gt;命令提示符&lt;/code&gt; 窗口。&lt;/li&gt;
&lt;li&gt;在命令行上，键入以下行，然后按回车.&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;ipconfig /flushdns
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;成功后，系统将返回以下消息：&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Windows IP Configuration
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Successfully flushed the DNS Resolver Cache.
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h4 id=&#34;windows-7&#34;&gt;Windows 7&lt;/h4&gt;
&lt;p&gt;要在 Windows 7 中解决DNS碎片攻击，请执行以下步骤：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;单击开始按钮。&lt;/li&gt;
&lt;li&gt;在开始菜单搜索文本框中键入 cmd。&lt;/li&gt;
&lt;li&gt;右键单击 &lt;code&gt;命令提示符&lt;/code&gt;，然后单击 &lt;code&gt;以管理员身份运行&lt;/code&gt;。这将打开 &lt;code&gt;命令提示符&lt;/code&gt; 窗口。&lt;/li&gt;
&lt;li&gt;在命令行上，键入以下行，然后按回车。&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;ipconfig /flushdns
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;成功后，系统将返回以下消息：&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Windows IP Configuration
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Successfully flushed the DNS Resolver Cache.
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;hr&gt;
&lt;h3 id=&#34;linux&#34;&gt;Linux&lt;/h3&gt;
&lt;p&gt;大多数现代 Linux 发行版，例如 &lt;code&gt;Ubuntu 18.04&lt;/code&gt;，都使用 &lt;code&gt;systemd&lt;/code&gt; 解析的服务来缓存 DNS 条目，欲解决 DNS 碎片攻击，我们需要将其缓存刷新。&lt;/p&gt;
&lt;h4 id=&#34;systemd&#34;&gt;systemd&lt;/h4&gt;
&lt;p&gt;要查找服务是否正在运行，请运行：&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;sudo systemctl is-active systemd-resolved.service
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;如果该服务正在运行，则将打印命令 &lt;code&gt;active&lt;/code&gt;，否则将看到 &lt;code&gt;inactive&lt;/code&gt;。&lt;/p&gt;
&lt;p&gt;要清除系统解析的 DNS 缓存，你需要键入以下命令:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;sudo systemd-resolve --flush-caches
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h4 id=&#34;dnsmasq&#34;&gt;DNSMasq&lt;/h4&gt;
&lt;p&gt;如果你的系统使用 &lt;code&gt;DNSMasq&lt;/code&gt; 作为缓存服务器，则要清除 DNS 缓存，需要重新启动 &lt;code&gt;Dnsmasq&lt;/code&gt; 服务：&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;sudo systemctl restart dnsmasq.service
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;也可以使用以下命令:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;sudo service dnsmasq restart
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h4 id=&#34;ncsd&#34;&gt;NCSD&lt;/h4&gt;
&lt;p&gt;如果系统使用 &lt;code&gt;NSCD&lt;/code&gt; 来清除 DNS 缓存，则需要重新启动 &lt;code&gt;NSCD&lt;/code&gt; 服务：&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;sudo systemctl restart nscd.service
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;也可以使用以下命令:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;sudo service nscd restart
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h2 id=&#34;第二步联系您所在地区的-&#34;&gt;第二步：联系您所在地区的 👮&lt;/h2&gt;
&lt;p&gt;我们给出一些常用国家或地区的报警电话，以便于您报案 DNS 碎片攻击：&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;国家/地区&lt;/th&gt;
&lt;th&gt;电话&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;中国/台湾/日本&lt;/td&gt;
&lt;td&gt;110&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;香港/澳门/马来西亚&lt;/td&gt;
&lt;td&gt;999&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;欧洲大部分地区/新西兰&lt;/td&gt;
&lt;td&gt;112&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;澳大利亚&lt;/td&gt;
&lt;td&gt;000&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;美国/加拿大&lt;/td&gt;
&lt;td&gt;911&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;南极洲&lt;/td&gt;
&lt;td&gt;/&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;p&gt;查看更详细的信息可以参照 &lt;a class=&#34;link&#34; href=&#34;https://zh.m.wikipedia.org/zh-hans/%E7%B7%8A%E6%80%A5%E6%95%91%E9%9B%A3%E9%9B%BB%E8%A9%B1%E8%99%9F%E7%A2%BC&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;&lt;strong&gt;WikiPedia:紧急救难电话号码&lt;/strong&gt;&lt;/a&gt; 寻求援助。&lt;/p&gt;
&lt;h2 id=&#34;第三步根本没有-dns-碎片攻击&#34;&gt;第三步：根本没有 DNS 碎片攻击&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;读了这么多，你可能觉得你被骗了。这可以是一个愚人节玩笑，但是我前面写的都是真的。&lt;/li&gt;
&lt;li&gt;您可以通过&lt;code&gt;第一步&lt;/code&gt;的教程清理你对应设备的&lt;code&gt;DNS缓存&lt;/code&gt;，但凡与 DNS 相关的问题，不妨试试。&lt;/li&gt;
&lt;li&gt;您可以通过&lt;code&gt;第二步&lt;/code&gt;的教程寻求对应地区的报警电话，如果这个春节想要出去旅行，记住对应国家的报警电话为安全添一分保障也没什么不好。&lt;/li&gt;
&lt;li&gt;&lt;code&gt;第三步&lt;/code&gt;想要说的是：&lt;strong&gt;永远不要以一个高傲的态度面对一个乐于帮助你的人，没人欠你。&lt;/strong&gt; 也不要自以为是。&lt;/li&gt;
&lt;li&gt;希望这篇博客能对大家有所帮助。&lt;/li&gt;
&lt;/ul&gt;
</description>
        </item>
        <item>
        <title>配置Surge网关接管家庭网络，让老旧Mac也能成为Homelab</title>
        <link>https://tutuis.me/SurgeGateway/</link>
        <pubDate>Fri, 09 Dec 2022 00:00:00 +0000</pubDate>
        
        <guid>https://tutuis.me/SurgeGateway/</guid>
        <description>&lt;img src="https://tutuis.me/ce5792552b8a496daecc793dccbfeadd.webp" alt="Featured image of post 配置Surge网关接管家庭网络，让老旧Mac也能成为Homelab" /&gt;&lt;h1 id=&#34;前言&#34;&gt;前言&lt;/h1&gt;
&lt;h3 id=&#34;前言的前言&#34;&gt;前言的前言&lt;/h3&gt;
&lt;blockquote&gt;
&lt;p&gt;此篇文章的图片以WebP格式托管在中国大陆的服务器上，WebP格式可以以很小的体积展示出惊艳的显示效果。这极大地减轻了您的设备的加载负担。我们已经尽最大努力保证您的访问体验。&lt;/p&gt;
&lt;/blockquote&gt;
&lt;blockquote&gt;
&lt;p&gt;本篇博客也是一个测试项目。&lt;/p&gt;
&lt;/blockquote&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a class=&#34;link&#34; href=&#34;https://dribbble.com/shots/2557494-Surge-for-Mac-redesign&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;&lt;strong&gt;Featured image&lt;/strong&gt;&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;进入正题&#34;&gt;进入正题&lt;/h3&gt;
&lt;blockquote&gt;
&lt;p&gt;由于疫情隔离在家很是无聊，突然在压箱底儿找到了个屏幕坏掉的Macbook。经过在&lt;a class=&#34;link&#34; href=&#34;https://t.me/GetSomeFries&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;&lt;strong&gt;🍟整点薯条&lt;/strong&gt;&lt;/a&gt;群组内的灵魂交流，突然灵感迸发。调试了一段时间很是满意。下面我将会介绍我是如何利用 &lt;a class=&#34;link&#34; href=&#34;https://nssurge.com&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;&lt;strong&gt;Surge for Mac&lt;/strong&gt;&lt;/a&gt; 这个 SUPER POWERFUL 的代理软件优化我家里的网络，以及遇到的一些困难，并且我是如何解决的。&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h3 id=&#34;我准备了什么&#34;&gt;我准备了什么&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;一台 Macbook Pro 2013 ｜CNY 0&lt;/li&gt;
&lt;li&gt;Apple官网购买的 &lt;a class=&#34;link&#34; href=&#34;https://store.apple.com/cn/xc/product/MD463FE/A&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;&lt;strong&gt;雷雳2转千兆以太网转换器&lt;/strong&gt;&lt;/a&gt; | CNY 223&lt;/li&gt;
&lt;li&gt;Surge for Mac License ｜ CNY 145&lt;/li&gt;
&lt;li&gt;这是我电脑的配置&lt;/li&gt;
&lt;/ul&gt;
&lt;img src=&#34;https://m1.im5i.com/2022/12/09/U5fu6M.webp&#34; alt=&#34;U5fu6M.webp&#34; border=&#34;0&#34; /&gt;
&lt;h3 id=&#34;我的部署方案&#34;&gt;我的部署方案&lt;/h3&gt;
&lt;p&gt;因为我们是想让这台旧Mac作旁路由， 所以直接将Mac连到路由器上就OK。&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;我的MacBook屏幕是坏掉的，所以在初次部署的时候会有很多困难！&lt;/li&gt;
&lt;li&gt;为了方便以后操控电脑，我推荐使用Apple官方推出的VNC工具：&lt;a class=&#34;link&#34; href=&#34;https://apps.apple.com/tw/app/apple-remote-desktop/id409907375?mt=12&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;&lt;strong&gt;Apple Remote Desktop&lt;/strong&gt;&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;这个工具超级超级好用，延迟很低很丝滑。&lt;/li&gt;
&lt;li&gt;别看到价格就劝退，要勤于Google。&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;hr&gt;
&lt;h2 id=&#34;surge网关&#34;&gt;Surge网关&lt;/h2&gt;
&lt;p&gt;相信看到我这篇文章的你已经是一位 &lt;strong&gt;power user of Surge&lt;/strong&gt;。所以我们不对具体细节进行介绍。&lt;/p&gt;
&lt;h3 id=&#34;在有显示器的条件下操作&#34;&gt;在有显示器的条件下操作：&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;去官网获取&lt;a class=&#34;link&#34; href=&#34;https://dl.nssurge.com/mac/v4/Surge-latest.zip&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;&lt;strong&gt;free trial&lt;/strong&gt;&lt;/a&gt;安装包&lt;/li&gt;
&lt;li&gt;倒入配置
&lt;ul&gt;
&lt;li&gt;推荐使用 &lt;a class=&#34;link&#34; href=&#34;https://github.com/bunizao/TutuBetterRules/blob/tutu/Surge/README.md&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;&lt;strong&gt;TutuBetterRules&lt;/strong&gt;&lt;/a&gt;！&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;MacOS仅在熄屏时才会开启VNC通道，所以你需要将其熄屏才能脱离显示器操作。&lt;/li&gt;
&lt;li&gt;记得关闭所有电池选项
&lt;ul&gt;
&lt;li&gt;低电量模式选择 &lt;code&gt;永不&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;点击右下角的&lt;code&gt;选项...&lt;/code&gt;，请按下图设置：&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;img src=&#34;https://m1.im5i.com/2022/12/09/U5JKFF.webp&#34; alt=&#34;U5JKFF.webp&#34; border=&#34;0&#34;&gt;
&lt;h3 id=&#34;在vnc上操作&#34;&gt;在VNC上操作：&lt;/h3&gt;
&lt;p&gt;把电脑和路由器连接好后：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;进入Surge主界面，按照指引开启Surge的DHCP服务器。&lt;/li&gt;
&lt;li&gt;网络设备选择：&lt;code&gt;Ethernet&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;根据指引关闭路由器的DHCP服务器。&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;推荐观看这个视频，了解更详细的Surge部署技巧，本文不作详细介绍。
&lt;div class=&#34;video-wrapper&#34;&gt;
    &lt;iframe loading=&#34;lazy&#34; 
            src=&#34;https://www.youtube.com/embed/68lcT7ItyP4&#34; 
            allowfullscreen 
            title=&#34;YouTube Video&#34;
    &gt;
    &lt;/iframe&gt;
&lt;/div&gt;
&lt;/p&gt;
&lt;hr&gt;
&lt;h3 id=&#34;增强内容&#34;&gt;增强内容&lt;/h3&gt;
&lt;h4 id=&#34;surge远程控制器&#34;&gt;Surge远程控制器&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;我们可以在&lt;code&gt;Surge主界面&lt;/code&gt; -&amp;gt; &lt;code&gt;更多&lt;/code&gt; -&amp;gt; &lt;code&gt;通用&lt;/code&gt; -&amp;gt; &lt;code&gt;远程控制器&lt;/code&gt; 内设置。&lt;/li&gt;
&lt;li&gt;然后在Surge iOS内，通过UI操作控制你的Surge网关。&lt;/li&gt;
&lt;li&gt;出门在外怎么办？自行google搭建&lt;code&gt;FRP&lt;/code&gt;。&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;web-dashboard&#34;&gt;Web Dashboard&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;Surge for Mac 提供了一个网页管理面板，这个面板可以比远程控制器操作更多内容。&lt;/li&gt;
&lt;li&gt;同样在&lt;code&gt;Surge主界面&lt;/code&gt; -&amp;gt; &lt;code&gt;更多&lt;/code&gt; -&amp;gt; &lt;code&gt;通用&lt;/code&gt; -&amp;gt; &lt;code&gt;远程控制器&lt;/code&gt; 内设置。&lt;/li&gt;
&lt;li&gt;出门在外怎么办？自行google搭建&lt;code&gt;FRP&lt;/code&gt;。&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;mitm&#34;&gt;MitM&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;Surge网关可以作为一个amazing MitM Tool，我们需要先给想要被MitM的设备安装与网关相同的根证书。&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;这里我推荐使用Airdrop安装（因为他不需要多余的步骤，直接就可以安装）。&lt;/li&gt;
&lt;li&gt;Apple TV可以借助Surge网关的MitM功能，运行脚本为流媒体开启双字幕。这里不详细介绍。（因为我没有Apple TV！）
&lt;ul&gt;
&lt;li&gt;How to?  &lt;a class=&#34;link&#34; href=&#34;https://github.com/DualSubs/DualSubs&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;🍿️DualSubs&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;我遇到的问题和解决办法&#34;&gt;我遇到的问题和解决办法&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;在Surge网关下观看YouTube会变得超级无敌慢，目前探索出了以下影响因素：
&lt;ul&gt;
&lt;li&gt;模块：&lt;code&gt;Block HTTP/3 &amp;amp; QUIC&lt;/code&gt;
&lt;ul&gt;
&lt;li&gt;如果有类似问题的可以试试反复开关这个模块，观察是否有变化。&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;规则：&lt;code&gt;AND,((PROTOCOL,UDP), (DOMAIN-SUFFIX,googlevideo.com)),REJECT-NO-DROP&lt;/code&gt;
&lt;ul&gt;
&lt;li&gt;这曾是老刘在推特力推的规则，但我观察到我的问题出现在这条规则上。&lt;/li&gt;
&lt;li&gt;同样的，如果有类似问题的可以试试反复开关这个模块，观察是否有变化。&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;参数：&lt;code&gt;udp-policy-not-supported-behaviour = REJECT&lt;/code&gt;
&lt;ul&gt;
&lt;li&gt;援引官方文档：&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;如果没有代理服务器支持 UDP 转发，可修改为「 direct 」或注释下条，但需注意同一目标主机名 TCP 请求与 UDP 请求的源地址不同所造成的隐私及安全风险。
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;这些问题显然都与&lt;code&gt;UDP&lt;/code&gt;有关，如果还有问题出现，请自检本地或者咨询代理提供商。&lt;/p&gt;
&lt;hr&gt;
&lt;h2 id=&#34;nas-mini&#34;&gt;NAS Mini&lt;/h2&gt;
&lt;h3 id=&#34;timemachine&#34;&gt;TimeMachine&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;在同一个局域网下，你的另外一台Mac上的&lt;code&gt;Finder&lt;/code&gt; -&amp;gt; &lt;code&gt;位置&lt;/code&gt; 应该会显示作为Surge网关Mac的名称。&lt;/li&gt;
&lt;li&gt;打开 &lt;code&gt;TimeMachine设置&lt;/code&gt; -&amp;gt; &lt;code&gt;添加备份磁盘..&lt;/code&gt; ，Mac会自动检索到备份位置。&lt;/li&gt;
&lt;li&gt;这里有两个位置即两个注册用户，我们以 &lt;code&gt;tutu&lt;/code&gt; 为例。
&lt;img src=&#34;https://3o.hk/images/2022/12/09/2022-12-09-9.30.15.jpg&#34; alt=&#34;截屏2022 12 09 上午9.30.15&#34; border=&#34;0&#34;&gt;&lt;/li&gt;
&lt;li&gt;输入密码。这里的密码即为&lt;code&gt;tutu&lt;/code&gt;用户的锁屏密码。
&lt;img src=&#34;https://m1.im5i.com/2022/12/09/U5JOOd.webp&#34; alt=&#34;U5JOOd.webp&#34; border=&#34;0&#34;&gt;&lt;/li&gt;
&lt;li&gt;输入密码之后就会自动配置时间机器，我们等待即可。&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;常见问题&#34;&gt;常见问题&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;如果你的被备份电脑开启了Surge而显示&lt;code&gt;连接失败&lt;/code&gt;，请尝试在Surge配置文件增加：&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;tun-excluded-routes = 239.255.255.250/32
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;ul&gt;
&lt;li&gt;&lt;code&gt;239.255.255.250/32&lt;/code&gt;是组播地址，如果在连接VNC出现问题，也应尝试配置该参数。&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;docker&#34;&gt;Docker&lt;/h2&gt;
&lt;p&gt;MacOS可以完美运行Docker，所以运行一些脚本，搭建私人影音库等等NAS能做的事他也能做到。&lt;/p&gt;
&lt;h3 id=&#34;安装&#34;&gt;安装&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;我们首先需要&lt;strong&gt;连接SSH&lt;/strong&gt;，我这里使用&lt;code&gt;NextSSH&lt;/code&gt;为例，&lt;code&gt;FinalShell&lt;/code&gt;同理。
&lt;img src=&#34;https://m1.im5i.com/2022/12/09/U5JNfH.webp&#34; alt=&#34;U5JNfH.webp&#34; border=&#34;0&#34; /&gt;
&lt;ul&gt;
&lt;li&gt;地址为Surge网关在内网中的地址，你的可能和我不一样。&lt;/li&gt;
&lt;li&gt;端口填写默认的22端口，如果使用&lt;code&gt;FRP&lt;/code&gt;工具，我不建议在公网暴露22端口。&lt;/li&gt;
&lt;li&gt;密码即为锁屏密码。&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;我们使用&lt;code&gt;homebrew&lt;/code&gt;安装&lt;code&gt;docker&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;brew install docker
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;ul&gt;
&lt;li&gt;什么？你还没有&lt;code&gt;homebrew&lt;/code&gt;?&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;/bin/bash -c &amp;#34;$(curl -fsSL https://raw.iqiq.io/Homebrew/install/HEAD/install.sh)&amp;#34;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3 id=&#34;使用&#34;&gt;使用&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;和其他系统一样，我们可以通过命令行控制docker。不过MacOS提供了一个图形管理界面（就是一个app）。&lt;/li&gt;
&lt;li&gt;自己折腾吧！&lt;/li&gt;
&lt;/ul&gt;
&lt;hr&gt;
&lt;h2 id=&#34;后记&#34;&gt;后记&lt;/h2&gt;
&lt;h3 id=&#34;欢迎加入我的telegram交流群图图の翻斗後花園httpstmehututu000&#34;&gt;欢迎加入我的telegram交流群:&lt;a class=&#34;link&#34; href=&#34;https://t.me/hututu000&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;&lt;strong&gt;图图の翻斗後花園&lt;/strong&gt;&lt;/a&gt;&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;本文只是提供一种思路，所有项目均为学习和研究目的，不得将本项目中任何内容用于违反国家/地区/组织等的法律法规或相关规定的其他用途。&lt;/li&gt;
&lt;li&gt;所有直接或间接使用本项目的个人和组织，应24小时内完成学习和研究，并及时删除本项目中的所有内容。如对本项目的功能有需求，应自行开发相关功能。&lt;/li&gt;
&lt;/ul&gt;
</description>
        </item>
        <item>
        <title>私の折腾项目大公開!</title>
        <link>https://tutuis.me/MyProject/</link>
        <pubDate>Tue, 06 Dec 2022 00:00:00 +0000</pubDate>
        
        <guid>https://tutuis.me/MyProject/</guid>
        <description>&lt;img src="https://tutuis.me/102424922_p0_master1200.webp" alt="Featured image of post 私の折腾项目大公開!" /&gt;&lt;h1 id=&#34;前言&#34;&gt;前言&lt;/h1&gt;
&lt;ul&gt;
&lt;li&gt;本人非常喜欢折腾，于是有了这些项目。&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;这些项目的链接都放在这篇文章的大标题里面&lt;/strong&gt;，也可以通过右边的目录快速导航。&lt;/li&gt;
&lt;li&gt;我保证这些项目都是纯净的并且&lt;strong&gt;不加日志&lt;/strong&gt;，首先我不缺订阅，其次我并不想了解你的隐私。&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;All for FREEEEEEEEEEEEEE.&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;关于 SLA: 我们不对SLA做任何保障，但是我们会尽最大努力保证可用度。&lt;/li&gt;
&lt;li&gt;关于 ToS: 我们把ToS托管在了 👉🏻&lt;a class=&#34;link&#34; href=&#34;https://github.com/bunizao/TutuBetterRules/blob/tutu/ToS.md&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;&lt;strong&gt;Github&lt;/strong&gt;&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;这是一个公益项目，欢迎关注我的telegram Channel 👉🏻&lt;a class=&#34;link&#34; href=&#34;https://t.me/hututu00&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;&lt;strong&gt;胡图图粉絲全球後援會&lt;/strong&gt;&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;这也是一个自由的项目，欢迎大家加入同样自由的telegram group 👉🏻&lt;a class=&#34;link&#34; href=&#34;https://t.me/hututu000&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;&lt;strong&gt;图图の翻斗後花園&lt;/strong&gt;&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;hr&gt;
&lt;h2 id=&#34;urlshortenerhttpstuucat&#34;&gt;&lt;a class=&#34;link&#34; href=&#34;https://tuu.cat&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;URLShortener&lt;/a&gt;&lt;/h2&gt;
&lt;h3 id=&#34;它可以做什么&#34;&gt;它可以做什么？&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;将一个超长链接缩短为 &lt;a class=&#34;link&#34; href=&#34;https://tuu.cat/xxxx&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;https://tuu.cat/xxxx&lt;/a&gt; 的形式。
&lt;ul&gt;
&lt;li&gt;非常适合AFF等需要优雅域名的场景。&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;注意事项&#34;&gt;注意事项&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;xxxx&lt;/code&gt;是一个随机字母与数字的组合，并不一定是4个字符(有可能更多)。&lt;/li&gt;
&lt;li&gt;本着自由的宗旨，我们开放自定义短链接后缀，但要注意：&lt;strong&gt;过于简单的后缀可能会招致别有用心的网络攻击者扫描爆破，对隐私造成的不必要风险本站不负责任&lt;/strong&gt;。
&lt;ul&gt;
&lt;li&gt;自定义后缀审计一些带有攻击性的词语，例如 &lt;code&gt;d*ck&lt;/code&gt;、&lt;code&gt;f*ck&lt;/code&gt;、&lt;code&gt;p**sy&lt;/code&gt;、&lt;code&gt;sb&lt;/code&gt;等。&lt;/li&gt;
&lt;li&gt;本站有权拒绝菠菜、色情、诈骗等违法业务使用我们的服务。&lt;/li&gt;
&lt;li&gt;我们保护您的隐私，只要您在合法合理的使用范围内，我们保证您的原链接不会被泄露。&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;本站使用Google的&lt;code&gt;reCAPTCHA&lt;/code&gt;鉴权，初次访问可能会加载缓慢。&lt;/li&gt;
&lt;li&gt;我们不保证SLA，但我们会尽最大努力维持可用度。&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;我们不会收费，永远不会。&lt;/strong&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;hr&gt;
&lt;h2 id=&#34;tutubetterruleshttpswwwgithubcombunizaotutubetterrules&#34;&gt;&lt;a class=&#34;link&#34; href=&#34;https://www.github.com/bunizao/TutuBetterRules&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;TutuBetterRules&lt;/a&gt;&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;可能是最好用的&lt;strong&gt;全平台代理软件分流配置&lt;/strong&gt;。&lt;/li&gt;
&lt;li&gt;我们正在对其进行持续完善更新，进入&lt;a class=&#34;link&#34; href=&#34;https://www.github.com/bunizao/TutuBetterRules&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;&lt;strong&gt;GitHub&lt;/strong&gt;&lt;/a&gt; 详细了解。&lt;/li&gt;
&lt;/ul&gt;
&lt;hr&gt;
&lt;h2 id=&#34;subconverterhttpssubtutuasia&#34;&gt;&lt;a class=&#34;link&#34; href=&#34;https://sub.tutu.asia&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;SubConverter&lt;/a&gt;&lt;/h2&gt;
&lt;h3 id=&#34;它可以做什么-1&#34;&gt;它可以做什么？&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;功能：将不同平台的订阅链接互相转换。&lt;/li&gt;
&lt;li&gt;安全性：我们拥有一个&lt;strong&gt;无任何日志的纯净后端&lt;/strong&gt;，您的订阅链接将非常安全地储存在您的本地，并不经手我们的服务器，我们保证这个过程是完全私密的。&lt;/li&gt;
&lt;li&gt;特点：可以一键套取&lt;a class=&#34;link&#34; href=&#34;https://www.github.com/bunizao/TutuBetterRules&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;&lt;strong&gt;TutuBetterRules&lt;/strong&gt;&lt;/a&gt;分流配置，这可能是最好用的iOS &amp;amp; MacOS的分流配置。
&lt;ul&gt;
&lt;li&gt;同样的，这个过程也不经手我们的服务器。&lt;/li&gt;
&lt;li&gt;为了避免隐私风险，我们移除了集成在面板内的短链接服务。&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;注意事项-1&#34;&gt;注意事项&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;本站&lt;a class=&#34;link&#34; href=&#34;https://sub.tutu.asia&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;前端&lt;/a&gt;以及&lt;a class=&#34;link&#34; href=&#34;https://love.tutu.asia&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;后端1&lt;/a&gt;、&lt;a class=&#34;link&#34; href=&#34;https://api.tutu.asia&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;后端2&lt;/a&gt;均由&lt;a class=&#34;link&#34; href=&#34;https://www.cloudflare.com&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;Cloudflare&lt;/a&gt;进行路由（我爱Cloudflare！）。可能在特殊时期会遭到特殊的制裁，所以不保证大陆方向的可用性（但是正常时期是可以用的）。
&lt;ul&gt;
&lt;li&gt;我们仍推荐您使用代理访问。&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;hr&gt;
&lt;h1 id=&#34;telegrambot&#34;&gt;TelegramBot&lt;/h1&gt;
&lt;h2 id=&#34;rssub_bothttpstmetuturss_bot&#34;&gt;&lt;a class=&#34;link&#34; href=&#34;https://t.me/tutuRSS_bot&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;RSSub_Bot&lt;/a&gt;&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;这是一款可以帮助你监听RSS订阅更新的Bot，支持在群组和频道中发布。&lt;/li&gt;
&lt;li&gt;特点：
&lt;ul&gt;
&lt;li&gt;支持telegraph应用内预览。&lt;/li&gt;
&lt;li&gt;更多的定制化选择。&lt;/li&gt;
&lt;li&gt;无限个RSS订阅，超快的解析速度。&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;我们换了一个超快的服务器。欢迎大家使用！&lt;/li&gt;
&lt;/ul&gt;
</description>
        </item>
        <item>
        <title>🧰工具箱｜一些常用的Linux命令</title>
        <link>https://tutuis.me/Command-on-Ubuntu/</link>
        <pubDate>Thu, 01 Dec 2022 00:00:00 +0000</pubDate>
        
        <guid>https://tutuis.me/Command-on-Ubuntu/</guid>
        <description>&lt;img src="https://tutuis.me/jammy-jellyfish-wallpaper.png" alt="Featured image of post 🧰工具箱｜一些常用的Linux命令" /&gt;&lt;blockquote&gt;
&lt;ul&gt;
&lt;li&gt;以下命令适用于Ubuntu 22.04系统，其他系统自行修改。&lt;/li&gt;
&lt;li&gt;可以透过右侧Widget目录快速查找。&lt;/li&gt;
&lt;li&gt;本文的命令大多是一键脚本，有其他顾虑请自行打开脚本审阅。&lt;/li&gt;
&lt;li&gt;因为要常更新，所以不做多语言支持。&lt;/li&gt;
&lt;li&gt;来源于互联网，有侵权请联系我删除。&lt;/li&gt;
&lt;li&gt;&lt;a class=&#34;link&#34; href=&#34;https://149366088.v2.pressablecdn.com/wp-content/uploads/2022/03/jammy-jellyfish-wallpaper.jpg&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;&lt;strong&gt;featured image&lt;/strong&gt;&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/blockquote&gt;
&lt;h2 id=&#34;开机&#34;&gt;开机&lt;/h2&gt;
&lt;h3 id=&#34;修改为root密码登录ssh&#34;&gt;修改为root密码登录ssh&lt;/h3&gt;
&lt;pre&gt;&lt;code&gt;#!/bin/bash
echo root:改我 |sudo chpasswd root
sudo sed -i &#39;s/^#\?PermitRootLogin.*/PermitRootLogin yes/g&#39; /etc/ssh/sshd_config;
sudo sed -i &#39;s/^#\?PasswordAuthentication.*/PasswordAuthentication yes/g&#39; /etc/ssh/sshd_config;
sudo service sshd restart
&lt;/code&gt;&lt;/pre&gt;
&lt;blockquote&gt;
&lt;ul&gt;
&lt;li&gt;将汉字部分替换成你要修改的ssh登录密码，建议使用密码管理器生成随机强密码。&lt;/li&gt;
&lt;li&gt;「适用于甲骨文」: 粘贴到开机页面 &lt;code&gt;高级选项&lt;/code&gt; &amp;ndash;&amp;gt; &lt;code&gt;粘贴Cloud-init脚本&lt;/code&gt; 里面&lt;/li&gt;
&lt;/ul&gt;
&lt;/blockquote&gt;
&lt;hr&gt;
&lt;h3 id=&#34;关闭系统防火墙&#34;&gt;关闭系统防火墙&lt;/h3&gt;
&lt;pre&gt;&lt;code&gt;iptables -P INPUT ACCEPT
iptables -P OUTPUT ACCEPT
iptables -P FORWARD ACCEPT
iptables -F
&lt;/code&gt;&lt;/pre&gt;
&lt;ul&gt;
&lt;li&gt;一般的VPS输入这四行就行，甲骨文还要输入下面两行：
iptables-save &amp;gt; /etc/iptables/rules.v4   &lt;br&gt;
ip6tables-save &amp;gt; /etc/iptables/rules.v6&lt;/li&gt;
&lt;/ul&gt;
&lt;hr&gt;
&lt;h3 id=&#34;修改ssh端口&#34;&gt;修改ssh端口&lt;/h3&gt;
&lt;blockquote&gt;
&lt;p&gt;公网高强度扫描爆破ssh主要针对默认的22端口，为了防止一些不必要的损失，按照下面的指令修改为35768端口吧！&lt;/p&gt;
&lt;/blockquote&gt;
&lt;pre&gt;&lt;code&gt;sed -i &#39;s/#Port 22/Port 35768/&#39; /etc/ssh/sshd_config
service ssh restart
&lt;/code&gt;&lt;/pre&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;Port 35768&lt;/code&gt; 可替换为 1-65535 之间的任何数字&lt;/p&gt;
&lt;p&gt;sudo apt install netstat
netstat -antp |grep ssh&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;如果没把握，可以再处理一遍防火墙。&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;如果操作iptables后发现和docker相关的服务不能访问，记得运行 &lt;code&gt;systemctl stop docker&lt;/code&gt; &lt;code&gt;systemctl start docker&lt;/code&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;hr&gt;
&lt;h2 id=&#34;增强&#34;&gt;增强&lt;/h2&gt;
&lt;h3 id=&#34;bbr加速&#34;&gt;BBR加速&lt;/h3&gt;
&lt;pre&gt;&lt;code&gt;wget -N --no-check-certificate &amp;quot;https://raw.githubusercontent.com/chiakge/Linux-NetSpeed/master/tcp.sh&amp;quot; &amp;amp;&amp;amp; chmod +x tcp.sh &amp;amp;&amp;amp; ./tcp.sh
&lt;/code&gt;&lt;/pre&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;如果没效果可以试试下面的不卸载内核版本：&lt;/p&gt;
&lt;p&gt;wget -N &amp;ndash;no-check-certificate &amp;ldquo;&lt;a class=&#34;link&#34; href=&#34;https://github.000060000.xyz/tcpx.sh%22&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;https://github.000060000.xyz/tcpx.sh&#34;&lt;/a&gt; &amp;amp;&amp;amp; chmod +x tcpx.sh &amp;amp;&amp;amp; ./tcpx.sh&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;a class=&#34;link&#34; href=&#34;https://github.com/google/bbr&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;&lt;strong&gt;什么是BBR加速?&lt;/strong&gt;&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;hr&gt;
&lt;h3 id=&#34;宝塔面板&#34;&gt;宝塔面板&lt;/h3&gt;
&lt;h4 id=&#34;官方版&#34;&gt;官方版&lt;/h4&gt;
&lt;pre&gt;&lt;code&gt;wget -O install.sh http://download.bt.cn/install/install-ubuntu_6.0.sh &amp;amp;&amp;amp; sudo bash install.sh ed8484bec
&lt;/code&gt;&lt;/pre&gt;
&lt;h4 id=&#34;开心版&#34;&gt;开心版&lt;/h4&gt;
&lt;pre&gt;&lt;code&gt;wget -O install.sh http://io.bt.sy/install/install-ubuntu_6.0.sh &amp;amp;&amp;amp; sudo bash install.sh
&lt;/code&gt;&lt;/pre&gt;
&lt;h4 id=&#34;国外版aapanel&#34;&gt;国外版（aaPanel）&lt;/h4&gt;
&lt;pre&gt;&lt;code&gt;wget -O install.sh http://www.aapanel.com/script/install-ubuntu_6.0_en.sh &amp;amp;&amp;amp; sudo bash install.sh aapanel
&lt;/code&gt;&lt;/pre&gt;
&lt;hr&gt;
&lt;h3 id=&#34;dd&#34;&gt;DD&lt;/h3&gt;
&lt;p&gt;先安装必需依赖
apt-get install -y xz-utils openssl gawk file wget screen &amp;amp;&amp;amp; screen -S os
然后在screen下运行
wget &amp;ndash;no-check-certificate -O NewReinstall.sh &lt;a class=&#34;link&#34; href=&#34;https://git.io/newbetags&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;https://git.io/newbetags&lt;/a&gt; &amp;amp;&amp;amp; chmod a+x NewReinstall.sh &amp;amp;&amp;amp; bash NewReinstall.sh&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;脚本里面有很多系统版本，按照脚本注释选择。&lt;/li&gt;
&lt;li&gt;如果10分钟以后连不上主机，请去控制台处理一遍防火墙。&lt;/li&gt;
&lt;/ul&gt;
&lt;hr&gt;
&lt;h3 id=&#34;查看流媒体解锁情况&#34;&gt;查看流媒体解锁情况&lt;/h3&gt;
&lt;h4 id=&#34;经典永流传版&#34;&gt;经典永流传版&lt;/h4&gt;
&lt;pre&gt;&lt;code&gt;bash &amp;lt;(curl -L -s https://raw.githubusercontent.com/lmc999/RegionRestrictionCheck/main/check.sh)
&lt;/code&gt;&lt;/pre&gt;
&lt;h4 id=&#34;由neko提供的更快的脚本&#34;&gt;由Neko提供的更快的脚本&lt;/h4&gt;
&lt;pre&gt;&lt;code&gt;bash &amp;lt;(curl -Ls unlock.moe)
&lt;/code&gt;&lt;/pre&gt;
&lt;ul&gt;
&lt;li&gt;只检测IPv4结果:  &lt;code&gt;bash &amp;lt;(curl -Ls unlock.moe) -m 4&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;只检测IPv6结果:  &lt;code&gt;bash &amp;lt;(curl -Ls unlock.moe) -m 6&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;hr&gt;
&lt;h3 id=&#34;测速&#34;&gt;测速&lt;/h3&gt;
&lt;pre&gt;&lt;code&gt;wget -qO- --no-check-certificate https://raw.githubusercontent.com/oooldking/script/master/superbench.sh | bash
&lt;/code&gt;&lt;/pre&gt;
&lt;hr&gt;
&lt;h3 id=&#34;查看线路信息&#34;&gt;查看线路信息&lt;/h3&gt;
&lt;pre&gt;&lt;code&gt;curl https://raw.githubusercontent.com/zhucaidan/mtr_trace/main/mtr_trace.sh|bash
&lt;/code&gt;&lt;/pre&gt;
&lt;hr&gt;
&lt;h2 id=&#34;安全&#34;&gt;安全&lt;/h2&gt;
&lt;h3 id=&#34;查看ssh登陆日志&#34;&gt;查看SSH登陆日志&lt;/h3&gt;
&lt;pre&gt;&lt;code&gt;grep &amp;quot;Failed password&amp;quot; /var/log/auth.log | wc -l
&lt;/code&gt;&lt;/pre&gt;
&lt;ul&gt;
&lt;li&gt;这个命令的输出即为SSH登陆失败的次数。&lt;/li&gt;
&lt;li&gt;更多推荐阅读： &lt;a class=&#34;link&#34; href=&#34;https://blog.hlhasd.com/archives/skill/18/830/&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;&lt;strong&gt;记一次树莓派(Raspbetty)系统ssh被爆破攻击日志分析&lt;/strong&gt;&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;搭建&#34;&gt;搭建&lt;/h2&gt;
&lt;h3 id=&#34;mtproto代理&#34;&gt;MTProto代理&lt;/h3&gt;
&lt;pre&gt;&lt;code&gt;curl -o MTProtoProxyInstall.sh -L https://git.io/fjo34 &amp;amp;&amp;amp; bash MTProtoProxyInstall.sh
&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&#34;http代理&#34;&gt;http代理&lt;/h3&gt;
&lt;pre&gt;&lt;code&gt;curl -L https://raw.githubusercontent.com/snail007/proxy_admin_free/master/install_auto.sh | bash
&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&#34;socks5代理&#34;&gt;Socks5代理&lt;/h3&gt;
&lt;pre&gt;&lt;code&gt;wget -q -N --no-check-certificate https://raw.githubusercontent.com/wyx176/nps-socks5/master/install.sh &amp;amp;&amp;amp; chmod 777 install.sh &amp;amp;&amp;amp; bash install.sh
&lt;/code&gt;&lt;/pre&gt;
&lt;ul&gt;
&lt;li&gt;附带管理面板
&lt;ul&gt;
&lt;li&gt;面板地址：yourIP:18080&lt;/li&gt;
&lt;li&gt;默认账号密码：admin admin&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;GitHub地址：&lt;a class=&#34;link&#34; href=&#34;https://github.com/wyx176/nps-socks5&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;&lt;strong&gt;NPS-Socks5&lt;/strong&gt;&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;一键转发&#34;&gt;一键转发&lt;/h3&gt;
&lt;pre&gt;&lt;code&gt;wget --no-check-certificate -qO natcfg.sh https://raw.githubusercontent.com/arloor/iptablesUtils/master/natcfg.sh &amp;amp;&amp;amp; bash natcfg.sh
&lt;/code&gt;&lt;/pre&gt;
&lt;hr&gt;
&lt;h1 id=&#34;more-to-be-continued&#34;&gt;More to be continued..&lt;/h1&gt;
&lt;hr&gt;
&lt;h2 id=&#34;欢迎加入我的telegram聊天群httpstmehututu0005-&#34;&gt;欢迎加入我的Telegram聊天群：&lt;a class=&#34;link&#34; href=&#34;https://t.me/hututu000&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;https://t.me/hututu000&lt;/a&gt; 😻&lt;/h2&gt;
&lt;hr&gt;
&lt;h2 id=&#34;感谢&#34;&gt;感谢&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a class=&#34;link&#34; href=&#34;https://t.me/Luca_VPS&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;Luca的频道&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a class=&#34;link&#34; href=&#34;https://t.me/rsakuras&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;rSakuras&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
</description>
        </item>
        <item>
        <title>搭建开源的Telegram人形Bot👾｜PagerMaid-Pyro</title>
        <link>https://tutuis.me/My-First-Post/</link>
        <pubDate>Sun, 02 Oct 2022 00:00:00 +0000</pubDate>
        
        <guid>https://tutuis.me/My-First-Post/</guid>
        <description>&lt;img src="https://tutuis.me/set-up-pagermaid-pyro.webp" alt="Featured image of post 搭建开源的Telegram人形Bot👾｜PagerMaid-Pyro" /&gt;&lt;blockquote&gt;
&lt;h2 id=&#34;前言&#34;&gt;前言&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;最近的Telegram私聊广告莫名很多，使用这个bot的防私聊插件可以很好的&lt;strong&gt;缓解广告的打扰&lt;/strong&gt;。刚好手头有闲置的VPS，索性按照教程简单搭建下。（其实好早就搭建好了🤪&lt;/li&gt;
&lt;/ul&gt;
&lt;/blockquote&gt;
&lt;blockquote&gt;
&lt;p&gt;本教程基于 &lt;strong&gt;Ubuntu 22.04&lt;/strong&gt; 系统，搭建 Pagermaid-Pyro 的演示环境为AWS-Lightsail机器，其他系统或IDC请自行修改命令安装。&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Github 开源地址：&lt;code&gt;https://github.com/TeamPGM/PagerMaid-Pyro&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;官方博客：&lt;code&gt;https://xtaolabs.com&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;官方 Telegram 频道：&lt;code&gt;@PagerMaid_Modify&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/blockquote&gt;
&lt;blockquote&gt;
&lt;h3 id=&#34;在搭建之前您需要知道&#34;&gt;在搭建之前您需要知道&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Telegram没有明确说明支持Userbot的行为，被杜叔叔分遗产以及导致的任何损失和后果均与PagerMaid项目作者和&lt;a class=&#34;link&#34; href=&#34;https://tutuis.me&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;&lt;strong&gt;本站&lt;/strong&gt;&lt;/a&gt;无关。&lt;/li&gt;
&lt;li&gt;您在使用本项目代码时即表示您已经同意本隐私协议并且允许我们以评估负载和修复代码的目的记录您 Bot 的在线状态和报错文件（除可能使用的信息之外，我们不会记录与收集任何信息）。&lt;/li&gt;
&lt;/ul&gt;
&lt;/blockquote&gt;
&lt;h2 id=&#34;您需要的基础知识&#34;&gt;您需要的基础知识&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;SSH 连接Linux服务器&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;切换用户为 root  &lt;code&gt;sudo -i&lt;/code&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;略懂一些 &lt;code&gt;Vim&lt;/code&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;hr&gt;
&lt;h2 id=&#34;让我们开始吧&#34;&gt;让我们开始吧!&lt;/h2&gt;
&lt;h3 id=&#34;开放端口&#34;&gt;开放端口&lt;/h3&gt;
&lt;p&gt;由于需要和telegram服务器通信，我们需要关闭系统内部的防火墙。执行以下代码关闭：&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;sudo iptables -P INPUT ACCEPT
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;sudo iptables -P FORWARD ACCEPT
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;sudo iptables -P OUTPUT ACCEPT
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;sudo iptables -F
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;如果您使用了云服务，请去您的云服务商控制台里开放所有端口。（以AWS-Lightsail为例）&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://3o.hk/images/2022/10/02/2022-10-02-10.09.17.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
		alt=&#34;截屏2022 10 02 下午10.09.17&#34;
	
	
&gt;&lt;/p&gt;
&lt;p&gt;Oracle请移步 &lt;code&gt;网络&lt;/code&gt;-&lt;code&gt;虚拟云网络&lt;/code&gt;-&lt;code&gt;vcn-2022xxxx-xxxx&lt;/code&gt;-&lt;code&gt;安全列表详细信息&lt;/code&gt;-&lt;code&gt;入站规则&lt;/code&gt;-&lt;code&gt;添加入站规则&lt;/code&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;请你像我这样写：&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;img src=&#34;https://3o.hk/images/2022/10/02/2022-10-02-10.16.23.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
		alt=&#34;截屏2022 10 02 下午10.16.23&#34;
	
	
&gt;&lt;/p&gt;
&lt;p&gt;Azure在&lt;code&gt;设置&lt;/code&gt;-&lt;code&gt;网络&lt;/code&gt;-&lt;code&gt;入站端口规则&lt;/code&gt;，请添加：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;源：Any&lt;/li&gt;
&lt;li&gt;源端口范围：*&lt;/li&gt;
&lt;li&gt;目标：Any&lt;/li&gt;
&lt;li&gt;服务：Custom&lt;/li&gt;
&lt;li&gt;目标端口范围：*&lt;/li&gt;
&lt;li&gt;协议：Any&lt;/li&gt;
&lt;li&gt;操作：允许&lt;/li&gt;
&lt;li&gt;优先级：100&lt;/li&gt;
&lt;li&gt;名称：随便写&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;其他的IDC请自行探索规律寻找，有些IDC是默认给开的。&lt;/p&gt;
&lt;h3 id=&#34;拉取项目&#34;&gt;拉取项目&lt;/h3&gt;
&lt;p&gt;先切换为Root用户。&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;sudo -i
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;在拉取项目之前，首先更新 git ，否则之后可能出现无法更新的情况。&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;sudo apt install --upgrade git -y
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;这步就报错请自行Google：&lt;code&gt;Ubuntu安装git&lt;/code&gt;。&lt;/p&gt;
&lt;p&gt;拉取项目至 /var/lib/pagermaid_pyro 目录。&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;cd /var/lib &amp;amp;&amp;amp; git clone https://github.com/TeamPGM/PagerMaid-Pyro.git pagermaid_pyro &amp;amp;&amp;amp; cd pagermaid_pyro
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;很快就拉取完了。
&lt;a class=&#34;link&#34; href=&#34;https://3o.hk/image/0mIrT&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;&lt;img src=&#34;https://3o.hk/images/2022/10/02/2022-10-02-10.28.18.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
		alt=&#34;2022-10-02-10.28.18.png&#34;
	
	
&gt;&lt;/a&gt;&lt;/p&gt;
&lt;h3 id=&#34;安装依赖&#34;&gt;安装依赖&lt;/h3&gt;
&lt;p&gt;首先更新下apt软件包，安装过程中可能会出现OK确认界面，直接确认即可，如果出现断开连接，必须重新登录root访问pagermaid_pyro目录。
（命令 &lt;code&gt;cd /var/lib/pagermaid_pyro&lt;/code&gt;)&lt;/p&gt;
&lt;h4 id=&#34;完整安装依赖包&#34;&gt;完整安装依赖包&lt;/h4&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;sudo apt install python3-pip imagemagick libwebp-dev neofetch libzbar-dev libxml2-dev libxslt-dev tesseract-ocr tesseract-ocr-all -y
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;安装软件包过程中，请喝杯咖啡稍等一会儿，安装完成后，继续安装 Python 依赖包，所有的操作都是在&lt;code&gt;/var/lib/pagermaid_pyro&lt;/code&gt;目录下进行的，出现报错检查是否在此目录中。
&lt;a class=&#34;link&#34; href=&#34;https://3o.hk/image/0mbom&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;&lt;img src=&#34;https://3o.hk/images/2022/10/02/2022-10-02-10.38.46.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
		alt=&#34;2022-10-02-10.38.46.png&#34;
	
	
&gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;done&lt;/p&gt;
&lt;h4 id=&#34;继续安装python依赖&#34;&gt;继续安装Python依赖&lt;/h4&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;pip3 install -r requirements.txt
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;blockquote&gt;
&lt;p&gt;如果出现 &lt;code&gt;ERROR: Could not open requirements file: [Errno 2] No such file or directory: &#39;requirements.txt&#39;&lt;/code&gt; 报错，请先检查当前目录是否为 &lt;code&gt;/var/lib/pagermaid_pyro&lt;/code&gt; ，如果位于该目录仍然报错，请重新执行 &lt;strong&gt;拉取项目&lt;/strong&gt; 步骤。&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;&lt;img src=&#34;https://3o.hk/images/2022/10/02/2022-10-02-10.42.12.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
		alt=&#34;2022-10-02-10.42.12.png&#34;
	
	
&gt;&lt;/p&gt;
&lt;p&gt;Success!&lt;/p&gt;
&lt;h3 id=&#34;修改配置文件&#34;&gt;修改配置文件&lt;/h3&gt;
&lt;p&gt;执行以下命令，将配置文件 &lt;code&gt;config.gen.yml&lt;/code&gt; 复制一份并且命名为 &lt;code&gt;config.yml&lt;/code&gt;&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;cp config.gen.yml config.yml
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3 id=&#34;申请telegram-api&#34;&gt;申请Telegram API&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;在 &lt;a class=&#34;link&#34; href=&#34;https://my.telegram.org&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;https://my.telegram.org&lt;/a&gt; 登陆后点击&lt;code&gt;API development tools&lt;/code&gt;
&lt;img src=&#34;https://3o.hk/images/2022/10/02/2022-10-02-10.48.40.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
		alt=&#34;2022-10-02-10.48.40.png&#34;
	
	
&gt;&lt;/li&gt;
&lt;li&gt;按图中这样非常随意的填好（越随意越好），然后点击&lt;code&gt;Create appication&lt;/code&gt;.&lt;/li&gt;
&lt;li&gt;保存好得到的&lt;code&gt;App api_id&lt;/code&gt; 和&lt;code&gt;App api_hash&lt;/code&gt;。&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;回到ssh工具里面，执行命令：&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;cd /var/lib/pagermaid_pyro &amp;amp;&amp;amp; vim config.yml
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;不会vim的请自行Google:&lt;code&gt;Vim使用教程&lt;/code&gt;&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;如果你看到的是一片空白：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;你可能不是root用户&lt;/li&gt;
&lt;li&gt;你可能不在正确目录&lt;/li&gt;
&lt;li&gt;确定你执行过&lt;code&gt;cp config.gen.yml config.yml&lt;/code&gt;?&lt;/li&gt;
&lt;/ul&gt;
&lt;/blockquote&gt;
&lt;p&gt;使用你强大的Vim基础知识，将这里替换成你刚刚获取的。（&lt;strong&gt;千万不要删除引号&lt;/strong&gt;！）&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://3o.hk/images/2022/10/02/2022-10-02-10.57.34.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
		alt=&#34;2022-10-02-10.57.34.png&#34;
	
	
&gt;&lt;/p&gt;
&lt;h3 id=&#34;运行pagermaid_pyro&#34;&gt;运行Pagermaid_Pyro&lt;/h3&gt;
&lt;p&gt;输入以下指令：&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  python3 -m pagermaid
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;此步需要填入完整的电话号码（eg：+8611451419198，&lt;strong&gt;需要带上国际区号&lt;/strong&gt;）然后 Telegram 会向你的其他客户端发送验证码，填入验证码后，回车，如有两步验证密码，则再输入两步验证密码即可。&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Enter phone number or bot token:    #此处填入手机号
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Is &amp;#34;+8611451419198&amp;#34; correct? (y/N): y   # 号码显示正确输入 y ,错误输入 
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;The confirmation code has been sent via Telegram app
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Enter confirmation code:    # 此处输入 Telegram APP 中收到的验证码
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;# 如果设置了两步验证，则会出现以下提示
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;The two-step verification is enabled and a password is required
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Password hint: None
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Enter password (empty to recover):    # 此处输入两步验证密码
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;出现已启动提示，代表登录成功，此时可以去 Telegram 任意聊天发送 &lt;code&gt;,help&lt;/code&gt; 进行测试。
&lt;a class=&#34;link&#34; href=&#34;https://3o.hk/image/0mMIj&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;&lt;img src=&#34;https://3o.hk/images/2022/10/02/2022-10-02-11.03.18.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
		alt=&#34;2022-10-02-11.03.18.png&#34;
	
	
&gt;&lt;/a&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;你的应该没有我这么多，查看 &lt;a class=&#34;link&#34; href=&#34;https://telegra.ph/PagerMaid-Plugins-11-27&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;&lt;strong&gt;官方插件列表&lt;/strong&gt;&lt;/a&gt; 按需安装。&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;请选择 v2 分支，master 分支为 Pagermaid-Modify（旧版）的插件，二者插件不兼容。&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;命令是 &lt;code&gt;,apt install xxxx&lt;/code&gt;，发在tg任意一个聊天中即可。&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;防私聊插件的名字是 &lt;code&gt;pmcaptcha&lt;/code&gt;，我们可以用&lt;code&gt;,apt install pmcaptcha&lt;/code&gt;的命令发送到任何聊天中来安装它。&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;写入守护进程&#34;&gt;写入守护进程&lt;/h3&gt;
&lt;p&gt;首先按下 &lt;code&gt;Ctrl&lt;/code&gt; 键和 &lt;code&gt;C&lt;/code&gt; 键停止运行，然后输入以下命令：&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;cat &amp;lt;&amp;lt;&amp;#39;TEXT&amp;#39; &amp;gt; /etc/systemd/system/pagermaid_pyro.service
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;[Unit]
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Description=PagerMaid-Pyro telegram utility daemon
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;After=network.target
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;[Install]
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;WantedBy=multi-user.target
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;[Service]
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Type=simple
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;WorkingDirectory=/var/lib/pagermaid_pyro
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;ExecStart=/usr/bin/python3 -m pagermaid
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Restart=always
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;TEXT
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;设置完成后启动程序：&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;systemctl start pagermaid_pyro
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;设置为开机自启：&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;systemctl enable pagermaid_pyro
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h4 id=&#34;至此-pagermaid-pyro-搭建完成enjoy-it&#34;&gt;至此 Pagermaid-Pyro 搭建完成，enjoy it~🤪&lt;/h4&gt;
&lt;p&gt;如需停止程序，使用以下命令即可：&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;systemctl stop pagermaid_pyro
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;blockquote&gt;
&lt;h2 id=&#34;插件说明&#34;&gt;插件说明&lt;/h2&gt;
&lt;blockquote&gt;
&lt;p&gt;如安装插件后遇到插件加载失败的情况，请按照以下步骤解决：&lt;/p&gt;
&lt;/blockquote&gt;
&lt;ul&gt;
&lt;li&gt;重新安装插件。&lt;/li&gt;
&lt;li&gt;使用 &lt;code&gt;,restart&lt;/code&gt; 命令或在终端中输入 &lt;code&gt;systemctl restart pagermaid_pyro&lt;/code&gt; 使程序重启。&lt;/li&gt;
&lt;li&gt;在任意对话中发送 &lt;code&gt;,sh rm -rf ./plugins/*&lt;/code&gt; ，然后重新安装插件。&lt;/li&gt;
&lt;li&gt;检查环境 Python 版本是否为 Python 3.8+ 。&lt;/li&gt;
&lt;li&gt;如仍然不能解决，请重新搭建 PagerMaid-Pyro 。&lt;/li&gt;
&lt;/ul&gt;
&lt;/blockquote&gt;
&lt;hr&gt;
&lt;h2 id=&#34;感谢阅读我是tutu欢迎加入我的telegram聊天群httpstmehututu000-&#34;&gt;感谢阅读，我是Tutu，欢迎加入我的Telegram聊天群：&lt;a class=&#34;link&#34; href=&#34;https://t.me/hututu000&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;https://t.me/hututu000&lt;/a&gt; 😻&lt;/h2&gt;
&lt;h2 id=&#34;感谢&#34;&gt;感谢&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;本文的featured image(pagermaid-logo) 来自 &lt;a class=&#34;link&#34; href=&#34;https://daydayday.day/posts/3282828936/&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;&lt;strong&gt;Wow&amp;rsquo;s Studio&lt;/strong&gt;&lt;/a&gt;。&lt;/li&gt;
&lt;/ul&gt;
</description>
        </item>
        
    </channel>
</rss>
