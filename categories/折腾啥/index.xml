<?xml version="1.0" encoding="utf-8" standalone="yes"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
    <channel>
        <title>折腾啥 on tutuのBlog</title>
        <link>https://tutuis.me/categories/%E6%8A%98%E8%85%BE%E5%95%A5/</link>
        <description>Recent content in 折腾啥 on tutuのBlog</description>
        <generator>Hugo -- gohugo.io</generator>
        <language>zh-cn</language>
        <lastBuildDate>Tue, 28 Mar 2023 00:00:00 +0000</lastBuildDate><atom:link href="https://tutuis.me/categories/%E6%8A%98%E8%85%BE%E5%95%A5/index.xml" rel="self" type="application/rss+xml" /><item>
        <title>使用Frp工具进行内网穿透</title>
        <link>https://tutuis.me/set-up-frp-tunnel/</link>
        <pubDate>Tue, 28 Mar 2023 00:00:00 +0000</pubDate>
        
        <guid>https://tutuis.me/set-up-frp-tunnel/</guid>
        <description>&lt;img src="https://image.tutuis.me/frp.gif" alt="Featured image of post 使用Frp工具进行内网穿透" /&gt;&lt;h2 id=&#34;前言&#34;&gt;前言&lt;/h2&gt;
&lt;p&gt;适逢 Surge Mac 5 新增内网穿透工具 &lt;a class=&#34;link&#34; href=&#34;https://blankwonder.medium.com/surge-ponte-%E7%A0%94%E5%8F%91%E6%89%8B%E8%AE%B0-c145726fc07c&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;&lt;strong&gt;Surge Ponte&lt;/strong&gt;&lt;/a&gt;，我为什么要反其道而行之，在Mac上折腾 Frp呢？&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;Surge Ponte&lt;/code&gt; 在大多数用户侧均使用UDP代理转发的形式实现内网穿透，实际体验下来与Frp的速度相差不少。&lt;/li&gt;
&lt;li&gt;我曾经做过一次不那么严谨的测试：在局域网外分别通过 Ponte 与 Frp 访问 Surge的 &lt;code&gt;Remote Controller&lt;/code&gt; ，从Surge主界面进入到 &lt;code&gt;Recent Requests&lt;/code&gt; 内，Ponte用时7秒，而 Frp仅仅2秒。由于不是那么严谨，我只能大概估计动画、代理服务器到我本地的RTT、以及我的手速等影响因素。&lt;/li&gt;
&lt;li&gt;由于Cloudflare Pages对视频流托管的限制，我将这段视频发到了我的 &lt;a class=&#34;link&#34; href=&#34;https://t.me/hututu00/514&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;&lt;strong&gt;Telegram频道。&lt;/strong&gt;&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;接下来，让我们开始吧！&lt;/p&gt;
&lt;h2 id=&#34;准备&#34;&gt;准备&lt;/h2&gt;
&lt;p&gt;你需要拥有一台有公网IP的服务器，我这里使用腾讯云作为Frps客户端。&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;这台服务器到你地区的延迟越低越好，带宽不应小于&lt;code&gt;5Mbps&lt;/code&gt;。&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;下文所指的Frps(Server)指的是服务端，而Frpc(Client)则为客户端。&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;你还需要一些Linux基础命令，以及最基本的对MacOS的熟悉。&lt;/p&gt;
&lt;hr&gt;
&lt;h2 id=&#34;搭建-frps&#34;&gt;搭建 Frps&lt;/h2&gt;
&lt;h3 id=&#34;下载安装&#34;&gt;下载、安装&lt;/h3&gt;
&lt;p&gt;使用SSH连接远程服务器。可以输入以下命令来查看系统架构：&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;arch
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;查看结果，如果是&lt;code&gt;X86_64&lt;/code&gt;即可选择&lt;code&gt;amd64&lt;/code&gt;。&lt;/p&gt;
&lt;p&gt;执行以下命令下载并解压Frp：&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-gdscript3&#34; data-lang=&#34;gdscript3&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;n&#34;&gt;wget&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;https&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;//&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;github&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;com&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;/&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;fatedier&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;/&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;frp&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;/&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;releases&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;/&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;download&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;/&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;v0&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;mf&#34;&gt;48.0&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;/&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;frp_0&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;mf&#34;&gt;48.0&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;_linux_amd64&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;tar&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;gz&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;n&#34;&gt;tar&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;-&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;zxvf&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;frp_0&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;mf&#34;&gt;48.0&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;_linux_amd64&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;tar&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;gz&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;ul&gt;
&lt;li&gt;注：这里的 &lt;a class=&#34;link&#34; href=&#34;https://github.com/fatedier/frp/releases/download/v0.48.0/frp_0.48.0_linux_amd64.tar.gz&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;&lt;code&gt;frp_0.48.0&lt;/code&gt;&lt;/a&gt; 为发稿前的最新版本，请前往 &lt;a class=&#34;link&#34; href=&#34;https://github.com/fatedier/frp/releases&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;&lt;strong&gt;Release 页面&lt;/strong&gt;&lt;/a&gt; 查看并下载最新版本。&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;改个名字，方便cd:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;cp -r frp_0.48.0_linux_amd64 frps
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;cd frps
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;如果正确，/frps 内的文件树应该是这样子的：&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;root@ubuntu:~# tree frps
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;frps
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;├── LICENSE
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;├── frpc
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;├── frpc.ini
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;├── frpc_full.ini
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;├── frps
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;├── frps.ini
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;└── frps_full.ini
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;这里多余了frpc的相关文件，我们可以将其删去：&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;rm frpc frpc.ini frpc_full.ini LICENSE
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;接着，使用你喜欢的方式修改 &lt;code&gt;frps.ini&lt;/code&gt; 文件，这个文件为frps的配置文件，应有如下格式：&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;[common]
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;bind_addr = 0.0.0.0
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;bind_port = 37000
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;token = [RANDOM_PASSWORD]
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;dashboard_addr = 0.0.0.0
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;dashboard_port = 37500
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;dashboard_user = admin
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;dashboard_pwd = admin
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;ul&gt;
&lt;li&gt;&lt;code&gt;bind_port&lt;/code&gt;表示用于客户端和服务端连接的端口，这个端口号我们之后在配置客户端的时候要用到。&lt;/li&gt;
&lt;li&gt;&lt;code&gt;token&lt;/code&gt;是用于客户端和服务端连接鉴权的密钥，请务必修改为**随机强字符，**以减少爆破风险。&lt;/li&gt;
&lt;li&gt;&lt;code&gt;dashboard_port&lt;/code&gt;是frps控制面板的端口，如果使用该配置请访问 &lt;code&gt;IP:37500&lt;/code&gt;查看控制面板。&lt;/li&gt;
&lt;li&gt;&lt;code&gt;dashboard_user&lt;/code&gt; 和&lt;code&gt;dashboard_pwd&lt;/code&gt; 为访问控制面板时的登录用户名和密码，设置成自己喜欢的。&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;编辑完成之后记得保存。&lt;/p&gt;
&lt;p&gt;输入以下命令启动frps：&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;./frps -c frps.ini
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;如果一切配置正确，屏幕上会显示：&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;1970/01/01 23:59:59 [I] [service.go:130] frps tcp listen on 0.0.0.0:37000
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;1970/01/01 23:59:59 [I] [service.go:193] https service listen on 0.0.0.0:10443
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;1970/01/01 23:59:59 [I] [service.go:216] Dashboard listen on 0.0.0.0:37500
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;1970/01/01 23:59:59 [I] [root.go:210] Start frps success
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;现在在浏览器访问 &lt;code&gt;IP:37500&lt;/code&gt; 即可打开控制面板。&lt;/p&gt;
&lt;h3 id=&#34;守护进程&#34;&gt;守护进程&lt;/h3&gt;
&lt;p&gt;我们使用&lt;code&gt;nohup&lt;/code&gt; 守护frps进程。这个工具可以帮助我们在系统重启时自动运行frps程序。&lt;/p&gt;
&lt;p&gt;我们使用&lt;code&gt;Ctrl + C&lt;/code&gt; 结束当前的进程 然后输入：&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;nohup ./frps -c frps.ini &amp;amp;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;如果看到输出结果为：&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;nohup: ignoring input and appending output to &amp;#39;nohup.out&amp;#39;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;则成功，可以按&lt;code&gt;Ctrl + C&lt;/code&gt; 退出。&lt;/p&gt;
&lt;p&gt;可以刷新下frps面板，看看是否能继续访问。或者使用&lt;code&gt;jobs&lt;/code&gt; 命令：&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;[1]+  Running                 nohup ./frps -c frps.ini &amp;amp;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;如果输出的是以上结果，则表示frps搭建成功。&lt;/p&gt;
&lt;hr&gt;
&lt;h2 id=&#34;搭建frpc&#34;&gt;搭建Frpc&lt;/h2&gt;
&lt;h3 id=&#34;macos&#34;&gt;MacOS&lt;/h3&gt;
&lt;p&gt;我们仍需要下载Frp的可执行文件，不同于Linux，我们可以在MacOS上前往 &lt;a class=&#34;link&#34; href=&#34;https://github.com/fatedier/frp/releases&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;&lt;strong&gt;Release 页面&lt;/strong&gt;&lt;/a&gt; 查看并下载最新版本。&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a class=&#34;link&#34; href=&#34;https://github.com/fatedier/frp/releases/download/v0.48.0/frp_0.48.0_darwin_amd64.tar.gz&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;frp_0.48.0_darwin_amd64.tar.gz&lt;/a&gt; 适用于搭载 Intel 芯片的 Mac 设备。&lt;/li&gt;
&lt;li&gt;&lt;a class=&#34;link&#34; href=&#34;https://github.com/fatedier/frp/releases/download/v0.48.0/frp_0.48.0_darwin_arm64.tar.gz&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;frp_0.48.0_darwin_arm64.tar.gz&lt;/a&gt; 适用于搭载 Apple Silicon(M1/M2) 芯片的 Mac 设备。&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;下载完成后解压，我将这个文件夹命名为&lt;code&gt;frpc&lt;/code&gt; 且移动到了&lt;code&gt;~/users/$(whoami)&lt;/code&gt; 目录下。&lt;/p&gt;
&lt;p&gt;然后删除与frps有关的文件：&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;rm frps frps.ini frps_full.ini LICENSE
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;之后就可以编辑&lt;code&gt;frpc.ini&lt;/code&gt; 配置文件了。&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;[common]
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;server_addr = 
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;server_port = 
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;token = 
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;log_level = info
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;log_max_days = 3
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;admin_addr = 127.0.0.1
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;admin_port = 7400
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;admin_user = admin
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;admin_pwd = admin
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;[Surge-SnellServer]
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;type = tcp
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;local_ip =127.0.0.1
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;local_port = 6160
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;remote_port = 7001
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;[Surge-RemoteController]
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;type = tcp
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;local_ip =127.0.0.1
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;local_port = 6170
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;remote_port = 6170
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;ul&gt;
&lt;li&gt;&lt;code&gt;server_addr&lt;/code&gt;、&lt;code&gt;server_port&lt;/code&gt; 、&lt;code&gt;token&lt;/code&gt;这三项我们需要到&lt;code&gt;frps.ini&lt;/code&gt;中寻找答案。
&lt;ul&gt;
&lt;li&gt;分别填你服务器的地址、端口、以及设置的token。&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;我开放了两个端口。以&lt;code&gt;Surge-SnellServer&lt;/code&gt; 为例 ，这会将我内网中的 6160端口转发给远端的7001端口，也就是说，我直接访问&lt;code&gt;IP:7001&lt;/code&gt; 即可通过Snell加密协议连回家中。&lt;/p&gt;
&lt;p&gt;我们需要在Surge for Mac的配置文件中编辑：&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;[Snell Server]
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;interface = 0.0.0.0
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;port = 6160
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;psk = {RAMDOM_PASSWORD}
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;obfs = off
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;ul&gt;
&lt;li&gt;&lt;code&gt;psk =&lt;/code&gt;  也应填写随机字符串。&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;如果成功，Surge for Mac会弹出这样一条通知：&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://image.tutuis.me/%E6%88%AA%E5%B1%8F2023-03-28%20%E4%B8%8B%E5%8D%886.36.11.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
		alt=&#34;截屏2023-03-28 下午6.36.11.png&#34;
	
	
&gt;&lt;/p&gt;
&lt;p&gt;我们在其他的Surge设备上添加代理：&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;[Proxy]
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Home = snell, YOUR_IP, 7001, psk={psk}, test-url=http://wifi.vivo.com.cn/generate_204
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;ul&gt;
&lt;li&gt;注意：这里的端口号请填写&lt;code&gt;frpc.ini&lt;/code&gt; 中的&lt;code&gt;remote_port&lt;/code&gt; 。&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;这样就会将Surge for Mac作为Snell的代理服务端，然后通过frp服务中转到公网上面。我们连接这个Snell代理之后，就可以连接 &lt;code&gt;192.168.*.*&lt;/code&gt; 或者&lt;code&gt;Macbook.local&lt;/code&gt; 之类的的内网设备了。&lt;/p&gt;
&lt;p&gt;都配置好后，我们可以执行 &lt;code&gt;./frpc -c frpc.ini&lt;/code&gt; 来观察是否可以成功启动服务。&lt;/p&gt;
&lt;p&gt;讲了这么多，如何在MacOS守护frp进程呢？&lt;/p&gt;
&lt;h4 id=&#34;守护进程-1&#34;&gt;守护进程&lt;/h4&gt;
&lt;p&gt;我们需要前往 &lt;code&gt;设置&lt;/code&gt;  → &lt;code&gt;用户与群组&lt;/code&gt; 中将&lt;code&gt;自动以此身份登录&lt;/code&gt; 开启。frpc则需要进一步地通过在&lt;code&gt;launchd&lt;/code&gt; 下编写.plist启动文件实现开机自启。&lt;/p&gt;
&lt;p&gt;我们需要在 ~&lt;code&gt;/Library/LaunchAgents&lt;/code&gt; 目录下创建f&lt;code&gt;rpc.plist&lt;/code&gt; 文件。这个过程可能需要root权限。由于MacOS系统自带的权限混乱问题，想要编辑这个目录下的文件还是有些难度的。我们可以在SSH下通过v&lt;code&gt;im&lt;/code&gt; 编辑，也可以直接下载我提供的文件，编辑后再拖入文件夹。&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;~/Library/LaunchAgents&lt;/code&gt;在Finder里面是被隐藏的，我们需要快捷键&lt;code&gt;Command + Shift + G&lt;/code&gt;进入该目录。请千万不要忘记前面的**「~」**。&lt;/li&gt;
&lt;li&gt;如果还遇到了权限问题，我们可以使用以下命令给这个文件赋权：&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;chmod +x /path/to/frpc.list
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;需要注意的是，赋予权限可能会导致文件被意外修改或删除。因此，只有在非常必要的情况下才应该赋予权限。在使用时，需谨慎操作。&lt;/p&gt;
&lt;p&gt;以下为&lt;code&gt;frpc.plist&lt;/code&gt; 的内容：&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;a class=&#34;link&#34; href=&#34;https://www.dropbox.com/s/nxitffqffh2o7cv/frpc.plist?dl=1&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;&lt;strong&gt;使用Dropbox下载&lt;/strong&gt;&lt;/a&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&amp;lt;?xml version=&amp;#34;1.0&amp;#34; encoding=&amp;#34;UTF-8&amp;#34;?&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&amp;lt;!DOCTYPE plist PUBLIC -//Apple Computer//DTD PLIST 1.0//EN
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;http://www.apple.com/DTDs/PropertyList-1.0.dtd &amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&amp;lt;plist version=&amp;#34;1.0&amp;#34;&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&amp;lt;dict&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &amp;lt;key&amp;gt;Label&amp;lt;/key&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &amp;lt;string&amp;gt;frpc&amp;lt;/string&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &amp;lt;key&amp;gt;ProgramArguments&amp;lt;/key&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &amp;lt;array&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;         &amp;lt;string&amp;gt;/Users/$(whoami)/frpc/frpc&amp;lt;/string&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;         &amp;lt;string&amp;gt;-c&amp;lt;/string&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;         &amp;lt;string&amp;gt;/Users/$(whoami)/frpc/frpc.ini&amp;lt;/string&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &amp;lt;/array&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &amp;lt;key&amp;gt;KeepAlive&amp;lt;/key&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &amp;lt;true/&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &amp;lt;key&amp;gt;RunAtLoad&amp;lt;/key&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &amp;lt;true/&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&amp;lt;/dict&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&amp;lt;/plist&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;ul&gt;
&lt;li&gt;注意：这个配置文件中默认将frp的目录放在了&lt;code&gt;/Users/$(whoami)/frpc&lt;/code&gt; 下，请核对并修改为你自己的目录。&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;最后，在终端输入下面的两段命令给&lt;code&gt;frpc.plist&lt;/code&gt; 赋予权限，并加载配置到系统使配置生效。&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-gdscript3&#34; data-lang=&#34;gdscript3&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;n&#34;&gt;sudo&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;chown&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;root&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;~/&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;Library&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;/&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;LaunchAgents&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;/&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;frpc&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;plist&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;n&#34;&gt;sudo&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;launchctl&lt;/span&gt; &lt;span class=&#34;nb&#34;&gt;load&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;-&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;w&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;~/&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;Library&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;/&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;LaunchAgents&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;/&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;frpc&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;plist&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;如果不想开机自启，只需要输入下面的命令即可。&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-gdscript3&#34; data-lang=&#34;gdscript3&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;n&#34;&gt;sudo&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;launchctl&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;unload&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;-&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;w&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;~/&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;Library&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;/&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;LaunchAgents&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;/&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;frpc&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;plist&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;hr&gt;
&lt;h3 id=&#34;windows&#34;&gt;Windows&lt;/h3&gt;
&lt;p&gt;同样地，可以根据客户端的不同前往&lt;a class=&#34;link&#34; href=&#34;https://github.com/fatedier/frp/releases&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;&lt;strong&gt;Release 页面&lt;/strong&gt;&lt;/a&gt; 选择不同的版本进行下载，Windows下载和解压等步骤不再描述。&lt;/p&gt;
&lt;p&gt;本文将 &lt;code&gt;/frpc&lt;/code&gt; 放在C盘根目录下。&lt;/p&gt;
&lt;p&gt;使用命令提示符或Powershell执行：&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;cd C:\frpc
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;./frpc -c frpc.ini
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;可以观察到frp程序已成功运行。&lt;/p&gt;
&lt;h4 id=&#34;守护进程-2&#34;&gt;守护进程&lt;/h4&gt;
&lt;p&gt;我们使用一个批处理文件&lt;code&gt;frpc.bat&lt;/code&gt; 将frpc挂在后台运行。&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;a class=&#34;link&#34; href=&#34;https://www.dropbox.com/s/zpyg8lumoroajgq/frpc.bat?dl=1&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;&lt;strong&gt;使用Dropbox下载&lt;/strong&gt;&lt;/a&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;@echo off
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;if &amp;#34;%1&amp;#34; == &amp;#34;h&amp;#34; goto begin
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;mshta vbscript:createobject(&amp;#34;wscript.shell&amp;#34;).run(&amp;#34;&amp;#34;&amp;#34;%~nx0&amp;#34;&amp;#34; h&amp;#34;,0)(window.close)&amp;amp;&amp;amp;exit
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;:begin
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;REM
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;cd C:\frpc
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;frpc -c frpc.ini
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;exit
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;ul&gt;
&lt;li&gt;注意：这个配置文件中默认将frp的目录放在了&lt;code&gt;C:\frpc&lt;/code&gt; 下，请核对并修改为你自己的目录。&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;如果需要开机启动，将&lt;code&gt;frpc.bat&lt;/code&gt;丢到Windows的开机启动文件夹即可。&lt;/p&gt;
&lt;p&gt;强烈建议你在使用frp直接测试内网穿透前，先在局域网内测试好相关功能的正常使用，并配置好可能会影响的Windows防火墙等内容，在内网调试通过后再使用frp进行内网穿透测试。&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;这个 &lt;a class=&#34;link&#34; href=&#34;https://github.com/fatedier/frp/issues/2860&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;&lt;strong&gt;issue&lt;/strong&gt;&lt;/a&gt; 报告了 Windows Defender 将frp&lt;strong&gt;误报&lt;/strong&gt;为病毒的问题。&lt;/li&gt;
&lt;/ul&gt;
&lt;hr&gt;
&lt;h1 id=&#34;reference&#34;&gt;Reference:&lt;/h1&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a class=&#34;link&#34; href=&#34;https://sspai.com/post/52523&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;使用frp进行内网穿透 - 少数派&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a class=&#34;link&#34; href=&#34;https://developer.apple.com/library/archive/documentation/MacOSX/Conceptual/BPSystemStartup/Chapters/CreatingLaunchdJobs.html&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;Creating Launch Daemons and Agents&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a class=&#34;link&#34; href=&#34;https://gofrp.org/&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;frp&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
</description>
        </item>
        <item>
        <title>将Hugo博客部署到Cloudflare Pages上的体验与踩坑小记</title>
        <link>https://tutuis.me/deploy-blog-to-cloudflare-pages/</link>
        <pubDate>Mon, 27 Feb 2023 00:00:00 +0000</pubDate>
        
        <guid>https://tutuis.me/deploy-blog-to-cloudflare-pages/</guid>
        <description>&lt;img src="https://tutuis.me/cloudflare-pages.webp" alt="Featured image of post 将Hugo博客部署到Cloudflare Pages上的体验与踩坑小记" /&gt;&lt;iframe allow=&#34;autoplay *; encrypted-media *; fullscreen *; clipboard-write&#34; frameborder=&#34;0&#34; height=&#34;175&#34; style=&#34;width:100%;max-width:1200px;overflow:hidden;background:transparent;&#34; sandbox=&#34;allow-forms allow-popups allow-same-origin allow-scripts allow-storage-access-by-user-activation allow-top-navigation-by-user-activation&#34; src=&#34;https://embed.music.apple.com/us/album/venice-bitch/1474669063?i=1474669067&#34;&gt;&lt;/iframe&gt;
&lt;hr&gt;
&lt;h2 id=&#34;前言&#34;&gt;前言&lt;/h2&gt;
&lt;p&gt;我的博客的前身使用Hexo架构并且部署在 &lt;a class=&#34;link&#34; href=&#34;https://pages.github.com/&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;&lt;strong&gt;GitHub Pages&lt;/strong&gt;&lt;/a&gt; 上面，可惜GitHub经常收到功夫网的影响，对来自中国大陆的访客可谓是苦不堪言（虽然也没多少阅读量）。于是本着博客是写给自己看的原则，我又套上了Cloudflare CDN，速度仍然不太理想。恰好遇到了一个好看的Hugo主题，决定将博客迁移到Hugo架构，并且使用 &lt;a class=&#34;link&#34; href=&#34;https://pages.cloudflare.com/&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;&lt;strong&gt;Cloudflare Pages&lt;/strong&gt;&lt;/a&gt; 托管静态页面。一气呵成。得益于原生的Cloudflare CDN，所以在全球范围内访问速度都还不错。&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;博客是写给自己看的。 &amp;ndash; ceru&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h2 id=&#34;优势&#34;&gt;优势&lt;/h2&gt;
&lt;p&gt;托管我为什么不选择 &lt;a class=&#34;link&#34; href=&#34;https://pages.github.com/&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;&lt;strong&gt;GitHub Pages&lt;/strong&gt;&lt;/a&gt; ？&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Cloudflare Pages的 CI/CD 非常丝滑稳定，基本上本地push到GitHub仓库，几秒钟后就可以进行部署，两分钟后更改就可以上线。每个月免费构建额度是500次，但是我觉得99%的人都够用了吧（（&lt;/li&gt;
&lt;li&gt;Cloudflare Pages在中国大陆的连通性还算不错。至少比GitHub好多了（&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Cloudflare Pages可以从Github私有仓库拉取博客源文件&lt;/strong&gt;，而且不需要配置麻烦的公钥和Token。更别说复杂的GitHub Action了，构建博客的过程相当丝滑。&lt;/li&gt;
&lt;li&gt;可以绑定多个自定义域名，也会直接送你一个 &lt;code&gt;xxxx.pages.dev&lt;/code&gt; 的三级域名（类似于 xxxx.github.io，不过这个可以定制不是吗（&lt;/li&gt;
&lt;li&gt;每一次构建都会保留存档，方便回味（bushi&lt;/li&gt;
&lt;li&gt;构建飞快，支持&lt;code&gt;fast build&lt;/code&gt;。&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;教程&#34;&gt;教程&lt;/h2&gt;
&lt;h2 id=&#34;push&#34;&gt;push&lt;/h2&gt;
&lt;h3 id=&#34;github-desktop&#34;&gt;Github Desktop&lt;/h3&gt;
&lt;p&gt;我们需要将博客的源文件push到GitHub或GitLab，个人喜欢GitHub。&lt;br&gt;
可以在本地电脑下载 &lt;a class=&#34;link&#34; href=&#34;https://desktop.github.com/&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;&lt;strong&gt;GitHub Desktop&lt;/strong&gt;&lt;/a&gt; , UI化连接GitHub仓库，不需要ssh操作，方便很多。&lt;/p&gt;
&lt;p&gt;我这里使用MacOS演示。&lt;/p&gt;
&lt;p&gt;下载好之后根据提示连接你的GitHub账号，然后在左上角点击 &lt;code&gt;Add&lt;/code&gt; -&amp;gt; &lt;code&gt;Create New Repository...&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;我们将创建一个叫&lt;code&gt;Blog&lt;/code&gt;的私有仓库，按照图片更改你喜欢的名字，以及你自己的博客文件路径。&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://image.tutuis.me/CleanShot-2023-02-27-at-22.27.19.webp&#34;
	
	
	
	loading=&#34;lazy&#34;
	
		alt=&#34;p1&#34;
	
	
&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Local Path一定要修改成你自己的！&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;然后我们会得到如下界面：&lt;br&gt;
&lt;img src=&#34;https://image.tutuis.me/CleanShot-2023-02-27-at-22.28.59.webp&#34;
	
	
	
	loading=&#34;lazy&#34;
	
		alt=&#34;p2&#34;
	
	
&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;如果你的Local Path 正确，左面的Changes部分应该有很多文件。&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;点击右边的&lt;code&gt;Publish Repository&lt;/code&gt;,会弹出如下界面：&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://image.tutuis.me/CleanShot-2023-02-27-at-22.29.18.webp&#34;
	
	
	
	loading=&#34;lazy&#34;
	
		alt=&#34;p3&#34;
	
	
&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;为了保护博客的源文件，请tick✔️上&lt;code&gt;Keep this code private&lt;/code&gt;。&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;然后publish即可。下次更新博客只需要打开&lt;code&gt;GitHub Desktop&lt;/code&gt; 然后 &lt;code&gt;command + P&lt;/code&gt;即可。&lt;/p&gt;
&lt;h3 id=&#34;ssh&#34;&gt;SSH&lt;/h3&gt;
&lt;p&gt;在进行之前，我们需要配置GitHub鉴权使用的SSH Key。&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;## 先切换到博客目录，更改成你自己的
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;cd ~/home/blog
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;## 初始化本地Git仓库
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;git init
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;## 设置名为Origin的远端Git仓库，同样更改成你自己的
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;git remote add origin git@github.com:username/reponame:git
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;## 选择所有文件
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;git add -A
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;## 为本次commit写一个summary
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;git commit -m &amp;#34;initial commit&amp;#34;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;## Push到github
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;git push -u origin main
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;我这里写了一个&lt;code&gt;deploy.sh&lt;/code&gt;，方便大家后续更新博客使用。&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;使用 &lt;a class=&#34;link&#34; href=&#34;https://www.dropbox.com/s/oth9jf9ovfx7hqu/deploy.sh?dl=1&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;&lt;strong&gt;Dropbox&lt;/strong&gt;&lt;/a&gt; 下载&lt;/p&gt;
&lt;/blockquote&gt;
&lt;ul&gt;
&lt;li&gt;特性：
&lt;ul&gt;
&lt;li&gt;commit为当前发布的时间&lt;/li&gt;
&lt;li&gt;发布时可以优雅地 &lt;code&gt;bash deploy.sh&lt;/code&gt;，而不需要敲5行命令。&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;hr&gt;
&lt;h2 id=&#34;pull&#34;&gt;Pull&lt;/h2&gt;
&lt;p&gt;登录到 &lt;a class=&#34;link&#34; href=&#34;https://dash.cloudflare.com/&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;&lt;strong&gt;Cloudflare 控制台&lt;/strong&gt;&lt;/a&gt;，在左侧即可看到&lt;code&gt;Pages&lt;/code&gt;。点击并且&lt;code&gt;创建一个项目&lt;/code&gt; -&amp;gt; &lt;code&gt;连接到Git&lt;/code&gt;。&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://image.tutuis.me/CleanShot-2023-02-27-at-22.52.40.webp&#34;
	
	
	
	loading=&#34;lazy&#34;
	
		alt=&#34;p4&#34;
	
	
&gt;&lt;/p&gt;
&lt;p&gt;登录到GitHub账户，选择我们刚刚创建的repo，这里可能需要一些权限。&lt;/p&gt;
&lt;p&gt;填写项目名称，Cloudflare Pages会生成一个&lt;code&gt;progressname.pages.dev&lt;/code&gt; 的三级域名，我们之后的自定义域名会被CNAME到这个三级域名上。&lt;/p&gt;
&lt;p&gt;这里我使用的是hugo构建，会遇到一个小坑，解决方式也很简单，在环境变量的部分指定 &lt;code&gt;HUGO_VERSION = 0.110.0&lt;/code&gt;即可。&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;v0.110.0&lt;/code&gt;是截止发稿时的hugo最新版本，可以在 &lt;a class=&#34;link&#34; href=&#34;https://github.com/gohugoio/hugo/releases&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;&lt;strong&gt;hugo的Github发布页&lt;/strong&gt;&lt;/a&gt; 查看最新版本。或者在命令行中输入&lt;code&gt;hugo version&lt;/code&gt;查看当前使用的版本。&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;如图：&lt;br&gt;
&lt;img src=&#34;https://image.tutuis.me/CleanShot-2023-02-27-at-23.04.20.webp&#34;
	
	
	
	loading=&#34;lazy&#34;
	
		alt=&#34;p5&#34;
	
	
&gt;&lt;/p&gt;
&lt;p&gt;然后我们开心构建即可！&lt;/p&gt;
&lt;p&gt;这里可以绑定好多个自定义域名，均采用CNAME的形式。
&lt;img src=&#34;https://image.tutuis.me/CleanShot-2023-02-27-at-23.10.03.webp&#34;
	
	
	
	loading=&#34;lazy&#34;
	
		alt=&#34;p6&#34;
	
	
&gt;&lt;/p&gt;
&lt;p&gt;我们还可以使用Cloudflare自选ip，让博客更快一步。互联网上已经有很多轮子，这里不再介绍。&lt;/p&gt;
</description>
        </item>
        <item>
        <title>美国T-Mobile保号卡获取攻略 | 免费无限换号0月租</title>
        <link>https://tutuis.me/get-with-t-mobile/</link>
        <pubDate>Mon, 09 Jan 2023 00:00:00 +0000</pubDate>
        
        <guid>https://tutuis.me/get-with-t-mobile/</guid>
        <description>&lt;img src="https://tutuis.me/tmo.webp" alt="Featured image of post 美国T-Mobile保号卡获取攻略 | 免费无限换号0月租" /&gt;&lt;h2 id=&#34;前言&#34;&gt;前言&lt;/h2&gt;
&lt;p&gt;T-Mobile是美国第三大移动通信运营商，其产品可谓是&lt;strong&gt;非常良心&lt;/strong&gt;。支持&lt;strong&gt;国际漫游&lt;/strong&gt;以及&lt;strong&gt;漫游 WiFi-Calling&lt;/strong&gt;，使得你在美国境外，只要有Wi-Fi存在或者接收到漫游信号也可以等同于在美国境内拨打电话、收发短信。这让我们这些☁️用户能够以非常低廉的成本维持一个美国实体号码。&lt;/p&gt;
&lt;p&gt;本文将介绍两大良心套餐：&lt;code&gt;$0 Lagacy Pay As You Go&lt;/code&gt; 以及 &lt;code&gt;$3 Prepaid Pay Go&lt;/code&gt;。&lt;/p&gt;
&lt;hr&gt;
&lt;h2 id=&#34;0-lagacy-pay-as-you-go&#34;&gt;$0 Lagacy Pay As You Go&lt;/h2&gt;
&lt;p&gt;这个套餐又名&lt;code&gt;老爷爷套餐&lt;/code&gt;，基本介绍：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;月租 &lt;code&gt;$0&lt;/code&gt;，只要账户有余额即可保号&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;每90天在余额过期前至少充值一次，每次充值至少 &lt;code&gt;$1&lt;/code&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;收发短信、接打电话都要钱&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;（WiFi Calling）$.10/min, $.10/text, $.25/mms&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;支持漫游&lt;/strong&gt;，不支持流量漫游&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;中国大陆漫游&lt;code&gt;中国移动&lt;/code&gt;
&lt;ul&gt;
&lt;li&gt;短信：收$0.1/条，发$0.5/条&lt;/li&gt;
&lt;li&gt;通话：$3.59/分钟&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;支持漫游 &lt;code&gt;WiFi Calling&lt;/code&gt;、&lt;code&gt;WiFi Calling over Cellular Data&lt;/code&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;但是被墙了，通过&lt;code&gt;网关代理&lt;/code&gt;可以开启 WiFi Calling。
&lt;ul&gt;
&lt;li&gt;我整理的规则集：&lt;a class=&#34;link&#34; href=&#34;https://raw.githubusercontent.com/bunizao/TutuBetterRules/tutu/RuleList/DOMAlN/T-Mobile.list&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;&lt;strong&gt;T-Mobile.list&lt;/strong&gt;&lt;/a&gt; （适用于&lt;code&gt;Surge Gateway&lt;/code&gt;和&lt;code&gt;OpenClash&lt;/code&gt;）&lt;/li&gt;
&lt;li&gt;为什么不去看看我写的文章： &lt;a class=&#34;link&#34; href=&#34;https://tutuis.me/SurgeGateway/&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;&lt;strong&gt;配置Surge网关接管家庭网络，让老旧Mac也能成为 Homelab&lt;/strong&gt;&lt;/a&gt; 呢？&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;这个套餐适用于三个月内接收短信在10条左右的人。如果没有频繁的接码 / 电话 需求，这个套餐无疑是最优选择。&lt;/p&gt;
&lt;hr&gt;
&lt;h2 id=&#34;3-prepaid-paygo&#34;&gt;$3 Prepaid PayGo&lt;/h2&gt;
&lt;p&gt;这个套餐在下架之前卖给了大家熟悉的&lt;code&gt;Ultra Mobile&lt;/code&gt;，基本介绍：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;月租&lt;code&gt;$3&lt;/code&gt;
&lt;ul&gt;
&lt;li&gt;套餐自带&lt;code&gt;30条短信&lt;/code&gt;和&lt;code&gt;30条通话&lt;/code&gt; (WiFi Calling)&lt;/li&gt;
&lt;li&gt;超出限制后收&lt;code&gt;$0.1/条&lt;/code&gt;，发&lt;code&gt;$0.5/条&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;余额足够套餐费即可保号，也可以设置 &lt;code&gt;Autopay&lt;/code&gt; 保号，当余额不足 &lt;code&gt;$3&lt;/code&gt;抵扣月租时，自动充值 &lt;code&gt;$10&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;支持漫游&lt;/strong&gt;，不支持流量漫游
&lt;ul&gt;
&lt;li&gt;中国大陆漫游&lt;code&gt;中国移动&lt;/code&gt;
&lt;ul&gt;
&lt;li&gt;短信：收$0.1/条，发$0.5/条&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;支持漫游 &lt;code&gt;WiFi Calling&lt;/code&gt;、&lt;code&gt;WiFi Calling over Cellular Data&lt;/code&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;同上 被墙&lt;/strong&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;和&lt;code&gt;$3 Ultra Mobile&lt;/code&gt;相比，优势在哪？对比一下这两个套餐：&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;项目&lt;/th&gt;
&lt;th&gt;$3 T-Mobile&lt;/th&gt;
&lt;th&gt;$3 Ultra Mobile&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;月租&lt;/td&gt;
&lt;td&gt;$3&lt;/td&gt;
&lt;td&gt;$3&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;短信&lt;/td&gt;
&lt;td&gt;30&lt;/td&gt;
&lt;td&gt;&lt;strong&gt;100&lt;/strong&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;通话&lt;/td&gt;
&lt;td&gt;30min&lt;/td&gt;
&lt;td&gt;&lt;strong&gt;100min&lt;/strong&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;漫游&lt;/td&gt;
&lt;td&gt;China Mobile&lt;/td&gt;
&lt;td&gt;Ultra(China Mobile)&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;WiFi Calling&lt;/td&gt;
&lt;td&gt;被墙&lt;/td&gt;
&lt;td&gt;被墙&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;更换号码&lt;/td&gt;
&lt;td&gt;&lt;strong&gt;Free&amp;amp;Unlimited&lt;/strong&gt;&lt;/td&gt;
&lt;td&gt;需付费&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;esim&lt;/td&gt;
&lt;td&gt;✔️&lt;/td&gt;
&lt;td&gt;仅支持实体卡转移&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;最终资费&lt;/td&gt;
&lt;td&gt;✔️&lt;/td&gt;
&lt;td&gt;🥵&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;p&gt;由于&lt;code&gt;Ultra Mobile&lt;/code&gt;需要购买卡板才能使用，所以最终资费 &lt;strong&gt;T-Mobile WIN&lt;/strong&gt;。（首先我觉得30条已经够用）&lt;/p&gt;
&lt;hr&gt;
&lt;h2 id=&#34;开通教程&#34;&gt;开通教程&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;对于&lt;strong&gt;iOS且具有Esim的设备&lt;/strong&gt;，我们可以下载 &lt;a class=&#34;link&#34; href=&#34;https://apps.apple.com/us/app/t-mobile-prepaid-esim/id1437014693&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;&lt;strong&gt;T-Mobile Prepaid eSIM app&lt;/strong&gt;&lt;/a&gt; 开通 &lt;code&gt;$10 Prepaid Connect eSIM Plan&lt;/code&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;我们也可以去 &lt;a class=&#34;link&#34; href=&#34;https://prepaid.t-mobile.com/prepaid-plans/connect&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;&lt;strong&gt;官网&lt;/strong&gt;&lt;/a&gt; 开通这个套餐，但是官网&lt;strong&gt;仅支持部分大陆卡。&lt;/strong&gt;（实际测试广发银行的Lucky连通借记卡可以正常付款）&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;如果你没有Esim设备&lt;/strong&gt;，你需要去 &lt;a class=&#34;link&#34; href=&#34;https://prepaid.t-mobile.com/prepaid-plans/connect&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;&lt;strong&gt;Amazon&lt;/strong&gt;&lt;/a&gt; 上购买卡板使用。&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;sim设备&#34;&gt;Sim设备&lt;/h3&gt;
&lt;p&gt;拿到卡板之后，我们使用 &lt;code&gt;Google Voice&lt;/code&gt; 拨打卡板背面的电话联系T-Mobile客服激活。根据客服引导报给Sim card number，之后客服会要求设置PIN码，这个PIN非常重要一定要保存好。激活后立马开通 WiFi-Calling 注册账号查看套餐。&lt;/p&gt;
&lt;p&gt;直接打电话告知客服，直接要求客服开通对应套餐。你可能会遇到4种情况：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;直接帮你开出&lt;code&gt;$0 Lagacy Pay As You Go&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;直接帮你开出&lt;code&gt;$3 Prepaid PayGo&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;表明可以帮你先激活一个月$10的，下个月再转为&lt;code&gt;$3 Prepaid PayGo&lt;/code&gt;，你需要再存$3
&lt;ul&gt;
&lt;li&gt;个别热心的客服会把第一个月的$10再退给你（遇到了，记得主动提要求）&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;表明已经无效，无法帮你
&lt;ul&gt;
&lt;li&gt;Hang Up and Call Again&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;遇到第一种和第二种客服简直是宝，第三种也不差。抓住他开下一张。如果遇到第四种客服也没关系，直接挂断重拨换客服。T-Mobile的客服咖喱味居多，听口音选择美国客服成功率较高（但是几率较少）。&lt;/p&gt;
&lt;p&gt;成功率（根据 &lt;a class=&#34;link&#34; href=&#34;https://usccstrategy.com/t-mobile-paygo/&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;usccstrategy.com&lt;/a&gt; ）：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;第一种：直接激活&lt;code&gt;$0 Lagacy Pay As You Go&lt;/code&gt;，目前只成功过2次&lt;/li&gt;
&lt;li&gt;第二种：直接激活&lt;code&gt;$3 Prepaid PayGo&lt;/code&gt;，目前只成功过大概5次&lt;/li&gt;
&lt;li&gt;第三种：首月10刀，次月转&lt;code&gt;$3 Prepaid PayGo&lt;/code&gt;，客服大概能50%操作成功，有些客服要提交申请。&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;如果英语不好可以要求 T-Mobile 提供中文翻译。&lt;/p&gt;
&lt;p&gt;还有一种懒人躺平法，直接在 &lt;a class=&#34;link&#34; href=&#34;https://prepaid.t-mobile.com/bring-your-own-device&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;&lt;strong&gt;T-Mobile官网&lt;/strong&gt;&lt;/a&gt; 自行激活 &lt;code&gt;$10&lt;/code&gt; 套餐，根据 T-Mobile ToS,  T-Mobile Prepaid 话费非零但连续4个月余额不足缴纳套餐费的话，第5个月会被自动转成&lt;code&gt;$3 Prepaid PayGo&lt;/code&gt;这个已下线套餐。&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;If balance is insufficient to renew all lines on your account for 120 days, all lines will be suspended for 30 days.&lt;br&gt;
If you have an account balance, all lines will convert to Pay As You Go for 30 day increments with $3/mo. for 30 voice min./SMS messages per line. After your account balance is depleted, then account is suspended.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;Esim同理。这个懒人办法非常适合英语不好或者社恐的朋友使用。但是谈心能力好的还是建议联系客服更换套餐。&lt;/p&gt;
&lt;hr&gt;
&lt;h3 id=&#34;esim-设备&#34;&gt;Esim 设备&lt;/h3&gt;
&lt;p&gt;假如你有一台支持Esim的iPhone，整个过程就会简单很多。&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;根据 &lt;a class=&#34;link&#34; href=&#34;https://tutuis.me/T-Mobile-Esim/#%e5%bc%80%e9%80%9a%e6%95%99%e7%a8%8b&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;&lt;strong&gt;开通教程&lt;/strong&gt;&lt;/a&gt; 里面讲的，你需要在App或者网站注册好&lt;code&gt;$10&lt;/code&gt;的套餐。
&lt;ul&gt;
&lt;li&gt;Taxes &amp;amp; Fees：911填&lt;code&gt;77050&lt;/code&gt;地址，PPU填&lt;code&gt;89012&lt;/code&gt;地址，有奇效&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;首次付费 &lt;code&gt;$10&lt;/code&gt;，在这一个月内拨打611或者联系 &lt;a class=&#34;link&#34; href=&#34;https://twitter.com/tmobilehelp?s=21&amp;amp;t=Q2-VTiE1f5CkouHRWmA4ng&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;&lt;strong&gt;TForce&lt;/strong&gt;&lt;/a&gt; 更改套餐到&lt;code&gt;$0 Lagacy Pay As You Go&lt;/code&gt;或者&lt;code&gt;$3 Prepaid PayGo&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;联系客服的过程和前面一样。&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;在 &lt;code&gt;$10&lt;/code&gt; Plan 的这一个月内，不可以使用国际漫游服务，也就是只有在 WiFi Calling 才能接收短信。下一个月转换套餐即可使用国际漫游。&lt;/p&gt;
&lt;p&gt;在App端开通套餐会随机分配一个号码，如果嫌这个号码太烂，可以在官网自助免费更换。&lt;/p&gt;
&lt;p&gt;2023年仍然有DP开通成功，还不去试试？&lt;/p&gt;
&lt;h3 id=&#34;reference&#34;&gt;reference&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a class=&#34;link&#34; href=&#34;https://usccstrategy.com/t-mobile-paygo/&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;美国信用卡攻略&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a class=&#34;link&#34; href=&#34;https://t.me/DocOfCard&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;85.60×53.98卡粉订阅/提醒&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
</description>
        </item>
        <item>
        <title>配置Surge网关接管家庭网络，让老旧Mac也能成为Homelab</title>
        <link>https://tutuis.me/surge-gateway/</link>
        <pubDate>Fri, 09 Dec 2022 00:00:00 +0000</pubDate>
        
        <guid>https://tutuis.me/surge-gateway/</guid>
        <description>&lt;img src="https://tutuis.me/ce5792552b8a496daecc793dccbfeadd.webp" alt="Featured image of post 配置Surge网关接管家庭网络，让老旧Mac也能成为Homelab" /&gt;&lt;h1 id=&#34;前言&#34;&gt;前言&lt;/h1&gt;
&lt;h3 id=&#34;前言的前言&#34;&gt;前言的前言&lt;/h3&gt;
&lt;blockquote&gt;
&lt;p&gt;此篇文章的图片以WebP格式托管在中国大陆的服务器上，WebP格式可以以很小的体积展示出惊艳的显示效果。这极大地减轻了您的设备的加载负担。我们已经尽最大努力保证您的访问体验。&lt;/p&gt;
&lt;/blockquote&gt;
&lt;blockquote&gt;
&lt;p&gt;本篇博客也是一个测试项目。&lt;/p&gt;
&lt;/blockquote&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a class=&#34;link&#34; href=&#34;https://dribbble.com/shots/2557494-Surge-for-Mac-redesign&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;&lt;strong&gt;Featured image&lt;/strong&gt;&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;进入正题&#34;&gt;进入正题&lt;/h3&gt;
&lt;blockquote&gt;
&lt;p&gt;由于疫情隔离在家很是无聊，突然在压箱底儿找到了个屏幕坏掉的Macbook。经过在&lt;a class=&#34;link&#34; href=&#34;https://t.me/GetSomeFries&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;&lt;strong&gt;🍟整点薯条&lt;/strong&gt;&lt;/a&gt;群组内的灵魂交流，突然灵感迸发。调试了一段时间很是满意。下面我将会介绍我是如何利用 &lt;a class=&#34;link&#34; href=&#34;https://nssurge.com&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;&lt;strong&gt;Surge for Mac&lt;/strong&gt;&lt;/a&gt; 这个 SUPER POWERFUL 的代理软件优化我家里的网络，以及遇到的一些困难，并且我是如何解决的。&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h3 id=&#34;我准备了什么&#34;&gt;我准备了什么&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;一台 Macbook Pro 2013 ｜CNY 0&lt;/li&gt;
&lt;li&gt;Apple官网购买的 &lt;a class=&#34;link&#34; href=&#34;https://store.apple.com/cn/xc/product/MD463FE/A&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;&lt;strong&gt;雷雳2转千兆以太网转换器&lt;/strong&gt;&lt;/a&gt; | CNY 223&lt;/li&gt;
&lt;li&gt;Surge for Mac License ｜ CNY 145&lt;/li&gt;
&lt;li&gt;这是我电脑的配置&lt;/li&gt;
&lt;/ul&gt;
&lt;img src=&#34;https://m1.im5i.com/2022/12/09/U5fu6M.webp&#34; alt=&#34;U5fu6M.webp&#34; border=&#34;0&#34; /&gt;
&lt;h3 id=&#34;我的部署方案&#34;&gt;我的部署方案&lt;/h3&gt;
&lt;p&gt;因为我们是想让这台旧Mac作旁路由， 所以直接将Mac连到路由器上就OK。&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;我的MacBook屏幕是坏掉的，所以在初次部署的时候会有很多困难！&lt;/li&gt;
&lt;li&gt;为了方便以后操控电脑，我推荐使用Apple官方推出的VNC工具：&lt;a class=&#34;link&#34; href=&#34;https://apps.apple.com/tw/app/apple-remote-desktop/id409907375?mt=12&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;&lt;strong&gt;Apple Remote Desktop&lt;/strong&gt;&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;这个工具超级超级好用，延迟很低很丝滑。&lt;/li&gt;
&lt;li&gt;别看到价格就劝退，要勤于Google。&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;hr&gt;
&lt;h2 id=&#34;surge网关&#34;&gt;Surge网关&lt;/h2&gt;
&lt;p&gt;相信看到我这篇文章的你已经是一位 &lt;strong&gt;power user of Surge&lt;/strong&gt;。所以我们不对具体细节进行介绍。&lt;/p&gt;
&lt;h3 id=&#34;在有显示器的条件下操作&#34;&gt;在有显示器的条件下操作：&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;去官网获取&lt;a class=&#34;link&#34; href=&#34;https://dl.nssurge.com/mac/v4/Surge-latest.zip&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;&lt;strong&gt;free trial&lt;/strong&gt;&lt;/a&gt;安装包&lt;/li&gt;
&lt;li&gt;倒入配置
&lt;ul&gt;
&lt;li&gt;推荐使用 &lt;a class=&#34;link&#34; href=&#34;https://github.com/bunizao/TutuBetterRules/blob/tutu/Surge/README.md&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;&lt;strong&gt;TutuBetterRules&lt;/strong&gt;&lt;/a&gt;！&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;MacOS仅在熄屏时才会开启VNC通道，所以你需要将其熄屏才能脱离显示器操作。&lt;/li&gt;
&lt;li&gt;记得关闭所有电池选项
&lt;ul&gt;
&lt;li&gt;低电量模式选择 &lt;code&gt;永不&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;点击右下角的&lt;code&gt;选项...&lt;/code&gt;，请按下图设置：&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;img src=&#34;https://m1.im5i.com/2022/12/09/U5JKFF.webp&#34; alt=&#34;U5JKFF.webp&#34; border=&#34;0&#34;&gt;
&lt;h3 id=&#34;在vnc上操作&#34;&gt;在VNC上操作：&lt;/h3&gt;
&lt;p&gt;把电脑和路由器连接好后：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;进入Surge主界面，按照指引开启Surge的DHCP服务器。&lt;/li&gt;
&lt;li&gt;网络设备选择：&lt;code&gt;Ethernet&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;根据指引关闭路由器的DHCP服务器。&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;推荐观看这个视频，了解更详细的Surge部署技巧，本文不作详细介绍。
&lt;div class=&#34;video-wrapper&#34;&gt;
    &lt;iframe loading=&#34;lazy&#34; 
            src=&#34;https://www.youtube.com/embed/68lcT7ItyP4&#34; 
            allowfullscreen 
            title=&#34;YouTube Video&#34;
    &gt;
    &lt;/iframe&gt;
&lt;/div&gt;
&lt;/p&gt;
&lt;hr&gt;
&lt;h3 id=&#34;增强内容&#34;&gt;增强内容&lt;/h3&gt;
&lt;h4 id=&#34;surge远程控制器&#34;&gt;Surge远程控制器&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;我们可以在&lt;code&gt;Surge主界面&lt;/code&gt; -&amp;gt; &lt;code&gt;更多&lt;/code&gt; -&amp;gt; &lt;code&gt;通用&lt;/code&gt; -&amp;gt; &lt;code&gt;远程控制器&lt;/code&gt; 内设置。&lt;/li&gt;
&lt;li&gt;然后在Surge iOS内，通过UI操作控制你的Surge网关。&lt;/li&gt;
&lt;li&gt;出门在外怎么办？自行google搭建&lt;code&gt;FRP&lt;/code&gt;。&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;web-dashboard&#34;&gt;Web Dashboard&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;Surge for Mac 提供了一个网页管理面板，这个面板可以比远程控制器操作更多内容。&lt;/li&gt;
&lt;li&gt;同样在&lt;code&gt;Surge主界面&lt;/code&gt; -&amp;gt; &lt;code&gt;更多&lt;/code&gt; -&amp;gt; &lt;code&gt;通用&lt;/code&gt; -&amp;gt; &lt;code&gt;远程控制器&lt;/code&gt; 内设置。&lt;/li&gt;
&lt;li&gt;出门在外怎么办？自行google搭建&lt;code&gt;FRP&lt;/code&gt;。&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;mitm&#34;&gt;MitM&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;Surge网关可以作为一个amazing MitM Tool，我们需要先给想要被MitM的设备安装与网关相同的根证书。&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;这里我推荐使用Airdrop安装（因为他不需要多余的步骤，直接就可以安装）。&lt;/li&gt;
&lt;li&gt;Apple TV可以借助Surge网关的MitM功能，运行脚本为流媒体开启双字幕。这里不详细介绍。（因为我没有Apple TV！）
&lt;ul&gt;
&lt;li&gt;How to?  &lt;a class=&#34;link&#34; href=&#34;https://github.com/DualSubs/DualSubs&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;🍿️DualSubs&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;我遇到的问题和解决办法&#34;&gt;我遇到的问题和解决办法&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;在Surge网关下观看YouTube会变得超级无敌慢，目前探索出了以下影响因素：
&lt;ul&gt;
&lt;li&gt;模块：&lt;code&gt;Block HTTP/3 &amp;amp; QUIC&lt;/code&gt;
&lt;ul&gt;
&lt;li&gt;如果有类似问题的可以试试反复开关这个模块，观察是否有变化。&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;规则：&lt;code&gt;AND,((PROTOCOL,UDP), (DOMAIN-SUFFIX,googlevideo.com)),REJECT-NO-DROP&lt;/code&gt;
&lt;ul&gt;
&lt;li&gt;这曾是老刘在推特力推的规则，但我观察到我的问题出现在这条规则上。&lt;/li&gt;
&lt;li&gt;同样的，如果有类似问题的可以试试反复开关这个模块，观察是否有变化。&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;参数：&lt;code&gt;udp-policy-not-supported-behaviour = REJECT&lt;/code&gt;
&lt;ul&gt;
&lt;li&gt;援引官方文档：&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;如果没有代理服务器支持 UDP 转发，可修改为「 direct 」或注释下条，但需注意同一目标主机名 TCP 请求与 UDP 请求的源地址不同所造成的隐私及安全风险。
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;这些问题显然都与&lt;code&gt;UDP&lt;/code&gt;有关，如果还有问题出现，请自检本地或者咨询代理提供商。&lt;/p&gt;
&lt;hr&gt;
&lt;h2 id=&#34;nas-mini&#34;&gt;NAS Mini&lt;/h2&gt;
&lt;h3 id=&#34;timemachine&#34;&gt;TimeMachine&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;在同一个局域网下，你的另外一台Mac上的&lt;code&gt;Finder&lt;/code&gt; -&amp;gt; &lt;code&gt;位置&lt;/code&gt; 应该会显示作为Surge网关Mac的名称。&lt;/li&gt;
&lt;li&gt;打开 &lt;code&gt;TimeMachine设置&lt;/code&gt; -&amp;gt; &lt;code&gt;添加备份磁盘..&lt;/code&gt; ，Mac会自动检索到备份位置。&lt;/li&gt;
&lt;li&gt;这里有两个位置即两个注册用户，我们以 &lt;code&gt;tutu&lt;/code&gt; 为例。
&lt;img src=&#34;https://3o.hk/images/2022/12/09/2022-12-09-9.30.15.jpg&#34; alt=&#34;截屏2022 12 09 上午9.30.15&#34; border=&#34;0&#34;&gt;&lt;/li&gt;
&lt;li&gt;输入密码。这里的密码即为&lt;code&gt;tutu&lt;/code&gt;用户的锁屏密码。
&lt;img src=&#34;https://m1.im5i.com/2022/12/09/U5JOOd.webp&#34; alt=&#34;U5JOOd.webp&#34; border=&#34;0&#34;&gt;&lt;/li&gt;
&lt;li&gt;输入密码之后就会自动配置时间机器，我们等待即可。&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;常见问题&#34;&gt;常见问题&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;如果你的被备份电脑开启了Surge而显示&lt;code&gt;连接失败&lt;/code&gt;，请尝试在Surge配置文件增加：&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;tun-excluded-routes = 239.255.255.250/32
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;ul&gt;
&lt;li&gt;&lt;code&gt;239.255.255.250/32&lt;/code&gt;是组播地址，如果在连接VNC出现问题，也应尝试配置该参数。&lt;/li&gt;
&lt;li&gt;如果你嫌备份太慢，这是因为 MacOS 本身对其进行了限流的措施, 使用以下命令解除限制：&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;sudo sysctl debug.lowpri_throttle_enabled=0
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;ul&gt;
&lt;li&gt;推荐第一次备份结束后重新开启限流，以免出现硬盘读写高占用影响正常使用的情况。&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;sudo sysctl debug.lowpri_throttle_enabled=1
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h2 id=&#34;docker&#34;&gt;Docker&lt;/h2&gt;
&lt;p&gt;MacOS可以完美运行Docker，所以运行一些脚本，搭建私人影音库等等NAS能做的事他也能做到。&lt;/p&gt;
&lt;h3 id=&#34;安装&#34;&gt;安装&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;我们首先需要&lt;strong&gt;连接SSH&lt;/strong&gt;，我这里使用&lt;code&gt;NextSSH&lt;/code&gt;为例，&lt;code&gt;FinalShell&lt;/code&gt;同理。
&lt;img src=&#34;https://m1.im5i.com/2022/12/09/U5JNfH.webp&#34; alt=&#34;U5JNfH.webp&#34; border=&#34;0&#34; /&gt;
&lt;ul&gt;
&lt;li&gt;地址为Surge网关在内网中的地址，你的可能和我不一样。&lt;/li&gt;
&lt;li&gt;端口填写默认的22端口，如果使用&lt;code&gt;FRP&lt;/code&gt;工具，我不建议在公网暴露22端口。&lt;/li&gt;
&lt;li&gt;密码即为锁屏密码。&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;我们使用&lt;code&gt;homebrew&lt;/code&gt;安装&lt;code&gt;docker&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;brew install docker
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;ul&gt;
&lt;li&gt;什么？你还没有&lt;code&gt;homebrew&lt;/code&gt;?&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;/bin/bash -c &amp;#34;$(curl -fsSL https://raw.iqiq.io/Homebrew/install/HEAD/install.sh)&amp;#34;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3 id=&#34;使用&#34;&gt;使用&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;和其他系统一样，我们可以通过命令行控制docker。不过MacOS提供了一个图形管理界面（就是一个app）。&lt;/li&gt;
&lt;li&gt;自己折腾吧！&lt;/li&gt;
&lt;/ul&gt;
&lt;hr&gt;
&lt;h2 id=&#34;后记&#34;&gt;后记&lt;/h2&gt;
&lt;h3 id=&#34;欢迎加入我的telegram交流群图图の翻斗後花園httpstmehututu000&#34;&gt;欢迎加入我的telegram交流群:&lt;a class=&#34;link&#34; href=&#34;https://t.me/hututu000&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;&lt;strong&gt;图图の翻斗後花園&lt;/strong&gt;&lt;/a&gt;&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;本文只是提供一种思路，所有项目均为学习和研究目的，不得将本项目中任何内容用于违反国家/地区/组织等的法律法规或相关规定的其他用途。&lt;/li&gt;
&lt;li&gt;所有直接或间接使用本项目的个人和组织，应24小时内完成学习和研究，并及时删除本项目中的所有内容。如对本项目的功能有需求，应自行开发相关功能。&lt;/li&gt;
&lt;/ul&gt;
</description>
        </item>
        <item>
        <title>搭建开源的Telegram人形Bot👾｜PagerMaid-Pyro</title>
        <link>https://tutuis.me/set-up-pagermaid-pyro/</link>
        <pubDate>Sun, 02 Oct 2022 00:00:00 +0000</pubDate>
        
        <guid>https://tutuis.me/set-up-pagermaid-pyro/</guid>
        <description>&lt;img src="https://tutuis.me/set-up-pagermaid-pyro.webp" alt="Featured image of post 搭建开源的Telegram人形Bot👾｜PagerMaid-Pyro" /&gt;&lt;blockquote&gt;
&lt;h2 id=&#34;前言&#34;&gt;前言&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;最近的Telegram私聊广告莫名很多，使用这个bot的防私聊插件可以很好的&lt;strong&gt;缓解广告的打扰&lt;/strong&gt;。刚好手头有闲置的VPS，索性按照教程简单搭建下。（其实好早就搭建好了🤪&lt;/li&gt;
&lt;/ul&gt;
&lt;/blockquote&gt;
&lt;blockquote&gt;
&lt;p&gt;本教程基于 &lt;strong&gt;Ubuntu 22.04&lt;/strong&gt; 系统，搭建 Pagermaid-Pyro 的演示环境为AWS-Lightsail机器，其他系统或IDC请自行修改命令安装。&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Github 开源地址：&lt;code&gt;https://github.com/TeamPGM/PagerMaid-Pyro&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;官方博客：&lt;code&gt;https://xtaolabs.com&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;官方 Telegram 频道：&lt;code&gt;@PagerMaid_Modify&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/blockquote&gt;
&lt;blockquote&gt;
&lt;h3 id=&#34;在搭建之前您需要知道&#34;&gt;在搭建之前您需要知道&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Telegram没有明确说明支持Userbot的行为，被杜叔叔分遗产以及导致的任何损失和后果均与PagerMaid项目作者和&lt;a class=&#34;link&#34; href=&#34;https://tutuis.me&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;&lt;strong&gt;本站&lt;/strong&gt;&lt;/a&gt;无关。&lt;/li&gt;
&lt;li&gt;您在使用本项目代码时即表示您已经同意本隐私协议并且允许我们以评估负载和修复代码的目的记录您 Bot 的在线状态和报错文件（除可能使用的信息之外，我们不会记录与收集任何信息）。&lt;/li&gt;
&lt;/ul&gt;
&lt;/blockquote&gt;
&lt;h2 id=&#34;您需要的基础知识&#34;&gt;您需要的基础知识&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;SSH 连接Linux服务器&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;切换用户为 root  &lt;code&gt;sudo -i&lt;/code&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;略懂一些 &lt;code&gt;Vim&lt;/code&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;hr&gt;
&lt;h2 id=&#34;让我们开始吧&#34;&gt;让我们开始吧!&lt;/h2&gt;
&lt;h3 id=&#34;开放端口&#34;&gt;开放端口&lt;/h3&gt;
&lt;p&gt;由于需要和telegram服务器通信，我们需要关闭系统内部的防火墙。执行以下代码关闭：&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;sudo iptables -P INPUT ACCEPT
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;sudo iptables -P FORWARD ACCEPT
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;sudo iptables -P OUTPUT ACCEPT
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;sudo iptables -F
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;如果您使用了云服务，请去您的云服务商控制台里开放所有端口。（以AWS-Lightsail为例）&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://3o.hk/images/2022/10/02/2022-10-02-10.09.17.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
		alt=&#34;截屏2022 10 02 下午10.09.17&#34;
	
	
&gt;&lt;/p&gt;
&lt;p&gt;Oracle请移步 &lt;code&gt;网络&lt;/code&gt;-&lt;code&gt;虚拟云网络&lt;/code&gt;-&lt;code&gt;vcn-2022xxxx-xxxx&lt;/code&gt;-&lt;code&gt;安全列表详细信息&lt;/code&gt;-&lt;code&gt;入站规则&lt;/code&gt;-&lt;code&gt;添加入站规则&lt;/code&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;请你像我这样写：&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;img src=&#34;https://3o.hk/images/2022/10/02/2022-10-02-10.16.23.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
		alt=&#34;截屏2022 10 02 下午10.16.23&#34;
	
	
&gt;&lt;/p&gt;
&lt;p&gt;Azure在&lt;code&gt;设置&lt;/code&gt;-&lt;code&gt;网络&lt;/code&gt;-&lt;code&gt;入站端口规则&lt;/code&gt;，请添加：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;源：Any&lt;/li&gt;
&lt;li&gt;源端口范围：*&lt;/li&gt;
&lt;li&gt;目标：Any&lt;/li&gt;
&lt;li&gt;服务：Custom&lt;/li&gt;
&lt;li&gt;目标端口范围：*&lt;/li&gt;
&lt;li&gt;协议：Any&lt;/li&gt;
&lt;li&gt;操作：允许&lt;/li&gt;
&lt;li&gt;优先级：100&lt;/li&gt;
&lt;li&gt;名称：随便写&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;其他的IDC请自行探索规律寻找，有些IDC是默认给开的。&lt;/p&gt;
&lt;h3 id=&#34;拉取项目&#34;&gt;拉取项目&lt;/h3&gt;
&lt;p&gt;先切换为Root用户。&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;sudo -i
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;在拉取项目之前，首先更新 git ，否则之后可能出现无法更新的情况。&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;sudo apt install --upgrade git -y
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;这步就报错请自行Google：&lt;code&gt;Ubuntu安装git&lt;/code&gt;。&lt;/p&gt;
&lt;p&gt;拉取项目至 /var/lib/pagermaid_pyro 目录。&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-gdscript3&#34; data-lang=&#34;gdscript3&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;n&#34;&gt;cd&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;/&lt;/span&gt;&lt;span class=&#34;k&#34;&gt;var&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;/&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;lib&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;amp;&amp;amp;&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;git&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;clone&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;https&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;//&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;github&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;com&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;/&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;TeamPGM&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;/&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;PagerMaid&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;-&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;Pyro&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;git&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;pagermaid_pyro&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;amp;&amp;amp;&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;cd&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;pagermaid_pyro&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;很快就拉取完了。
&lt;a class=&#34;link&#34; href=&#34;https://3o.hk/image/0mIrT&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;&lt;img src=&#34;https://3o.hk/images/2022/10/02/2022-10-02-10.28.18.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
		alt=&#34;2022-10-02-10.28.18.png&#34;
	
	
&gt;&lt;/a&gt;&lt;/p&gt;
&lt;h3 id=&#34;安装依赖&#34;&gt;安装依赖&lt;/h3&gt;
&lt;p&gt;首先更新下apt软件包，安装过程中可能会出现OK确认界面，直接确认即可，如果出现断开连接，必须重新登录root访问pagermaid_pyro目录。
（命令 &lt;code&gt;cd /var/lib/pagermaid_pyro&lt;/code&gt;)&lt;/p&gt;
&lt;h4 id=&#34;完整安装依赖包&#34;&gt;完整安装依赖包&lt;/h4&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;sudo apt install python3-pip imagemagick libwebp-dev neofetch libzbar-dev libxml2-dev libxslt-dev tesseract-ocr tesseract-ocr-all -y
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;安装软件包过程中，请喝杯咖啡稍等一会儿，安装完成后，继续安装 Python 依赖包，所有的操作都是在&lt;code&gt;/var/lib/pagermaid_pyro&lt;/code&gt;目录下进行的，出现报错检查是否在此目录中。
&lt;a class=&#34;link&#34; href=&#34;https://3o.hk/image/0mbom&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;&lt;img src=&#34;https://3o.hk/images/2022/10/02/2022-10-02-10.38.46.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
		alt=&#34;2022-10-02-10.38.46.png&#34;
	
	
&gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;done&lt;/p&gt;
&lt;h4 id=&#34;继续安装python依赖&#34;&gt;继续安装Python依赖&lt;/h4&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;pip3 install -r requirements.txt
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;blockquote&gt;
&lt;p&gt;如果出现 &lt;code&gt;ERROR: Could not open requirements file: [Errno 2] No such file or directory: &#39;requirements.txt&#39;&lt;/code&gt; 报错，请先检查当前目录是否为 &lt;code&gt;/var/lib/pagermaid_pyro&lt;/code&gt; ，如果位于该目录仍然报错，请重新执行 &lt;strong&gt;拉取项目&lt;/strong&gt; 步骤。&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;&lt;img src=&#34;https://3o.hk/images/2022/10/02/2022-10-02-10.42.12.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
		alt=&#34;2022-10-02-10.42.12.png&#34;
	
	
&gt;&lt;/p&gt;
&lt;p&gt;Success!&lt;/p&gt;
&lt;h3 id=&#34;修改配置文件&#34;&gt;修改配置文件&lt;/h3&gt;
&lt;p&gt;执行以下命令，将配置文件 &lt;code&gt;config.gen.yml&lt;/code&gt; 复制一份并且命名为 &lt;code&gt;config.yml&lt;/code&gt;&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;cp config.gen.yml config.yml
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3 id=&#34;申请telegram-api&#34;&gt;申请Telegram API&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;在 &lt;a class=&#34;link&#34; href=&#34;https://my.telegram.org&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;https://my.telegram.org&lt;/a&gt; 登陆后点击&lt;code&gt;API development tools&lt;/code&gt;
&lt;img src=&#34;https://3o.hk/images/2022/10/02/2022-10-02-10.48.40.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
		alt=&#34;2022-10-02-10.48.40.png&#34;
	
	
&gt;&lt;/li&gt;
&lt;li&gt;按图中这样非常随意的填好（越随意越好），然后点击&lt;code&gt;Create appication&lt;/code&gt;.&lt;/li&gt;
&lt;li&gt;保存好得到的&lt;code&gt;App api_id&lt;/code&gt; 和&lt;code&gt;App api_hash&lt;/code&gt;。&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;回到ssh工具里面，执行命令：&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-gdscript3&#34; data-lang=&#34;gdscript3&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;n&#34;&gt;cd&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;/&lt;/span&gt;&lt;span class=&#34;k&#34;&gt;var&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;/&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;lib&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;/&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;pagermaid_pyro&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;amp;&amp;amp;&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;vim&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;config&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;yml&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;不会vim的请自行Google:&lt;code&gt;Vim使用教程&lt;/code&gt;&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;如果你看到的是一片空白：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;你可能不是root用户&lt;/li&gt;
&lt;li&gt;你可能不在正确目录&lt;/li&gt;
&lt;li&gt;确定你执行过&lt;code&gt;cp config.gen.yml config.yml&lt;/code&gt;?&lt;/li&gt;
&lt;/ul&gt;
&lt;/blockquote&gt;
&lt;p&gt;使用你强大的Vim基础知识，将这里替换成你刚刚获取的。（&lt;strong&gt;千万不要删除引号&lt;/strong&gt;！）&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://3o.hk/images/2022/10/02/2022-10-02-10.57.34.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
		alt=&#34;2022-10-02-10.57.34.png&#34;
	
	
&gt;&lt;/p&gt;
&lt;h3 id=&#34;运行pagermaid_pyro&#34;&gt;运行Pagermaid_Pyro&lt;/h3&gt;
&lt;p&gt;输入以下指令：&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  python3 -m pagermaid
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;此步需要填入完整的电话号码（eg：+8611451419198，&lt;strong&gt;需要带上国际区号&lt;/strong&gt;）然后 Telegram 会向你的其他客户端发送验证码，填入验证码后，回车，如有两步验证密码，则再输入两步验证密码即可。&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Enter phone number or bot token:    #此处填入手机号
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Is &amp;#34;+8611451419198&amp;#34; correct? (y/N): y   # 号码显示正确输入 y ,错误输入 
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;The confirmation code has been sent via Telegram app
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Enter confirmation code:    # 此处输入 Telegram APP 中收到的验证码
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;# 如果设置了两步验证，则会出现以下提示
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;The two-step verification is enabled and a password is required
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Password hint: None
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Enter password (empty to recover):    # 此处输入两步验证密码
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;出现已启动提示，代表登录成功，此时可以去 Telegram 任意聊天发送 &lt;code&gt;,help&lt;/code&gt; 进行测试。
&lt;a class=&#34;link&#34; href=&#34;https://3o.hk/image/0mMIj&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;&lt;img src=&#34;https://3o.hk/images/2022/10/02/2022-10-02-11.03.18.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
		alt=&#34;2022-10-02-11.03.18.png&#34;
	
	
&gt;&lt;/a&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;你的应该没有我这么多，查看 &lt;a class=&#34;link&#34; href=&#34;https://telegra.ph/PagerMaid-Plugins-11-27&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;&lt;strong&gt;官方插件列表&lt;/strong&gt;&lt;/a&gt; 按需安装。&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;请选择 v2 分支，master 分支为 Pagermaid-Modify（旧版）的插件，二者插件不兼容。&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;命令是 &lt;code&gt;,apt install xxxx&lt;/code&gt;，发在tg任意一个聊天中即可。&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;防私聊插件的名字是 &lt;code&gt;pmcaptcha&lt;/code&gt;，我们可以用&lt;code&gt;,apt install pmcaptcha&lt;/code&gt;的命令发送到任何聊天中来安装它。&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;写入守护进程&#34;&gt;写入守护进程&lt;/h3&gt;
&lt;p&gt;首先按下 &lt;code&gt;Ctrl&lt;/code&gt; 键和 &lt;code&gt;C&lt;/code&gt; 键停止运行，然后输入以下命令：&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-gdscript3&#34; data-lang=&#34;gdscript3&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;n&#34;&gt;cat&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;lt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;TEXT&amp;#39;&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;/&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;etc&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;/&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;systemd&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;/&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;system&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;/&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;pagermaid_pyro&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;service&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;Unit&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;]&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;n&#34;&gt;Description&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;PagerMaid&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;-&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;Pyro&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;telegram&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;utility&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;daemon&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;n&#34;&gt;After&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;network&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;target&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;Install&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;]&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;n&#34;&gt;WantedBy&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;multi&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;-&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;user&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;target&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;Service&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;]&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;n&#34;&gt;Type&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;simple&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;n&#34;&gt;WorkingDirectory&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=/&lt;/span&gt;&lt;span class=&#34;k&#34;&gt;var&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;/&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;lib&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;/&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;pagermaid_pyro&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;n&#34;&gt;ExecStart&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=/&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;usr&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;/&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;bin&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;/&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;python3&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;-&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;m&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;pagermaid&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;n&#34;&gt;Restart&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;always&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;n&#34;&gt;TEXT&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;设置完成后启动程序：&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;systemctl start pagermaid_pyro
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;设置为开机自启：&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;systemctl enable pagermaid_pyro
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h4 id=&#34;至此-pagermaid-pyro-搭建完成enjoy-it&#34;&gt;至此 Pagermaid-Pyro 搭建完成，enjoy it~🤪&lt;/h4&gt;
&lt;p&gt;如需停止程序，使用以下命令即可：&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;systemctl stop pagermaid_pyro
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;blockquote&gt;
&lt;h2 id=&#34;插件说明&#34;&gt;插件说明&lt;/h2&gt;
&lt;blockquote&gt;
&lt;p&gt;如安装插件后遇到插件加载失败的情况，请按照以下步骤解决：&lt;/p&gt;
&lt;/blockquote&gt;
&lt;ul&gt;
&lt;li&gt;重新安装插件。&lt;/li&gt;
&lt;li&gt;使用 &lt;code&gt;,restart&lt;/code&gt; 命令或在终端中输入 &lt;code&gt;systemctl restart pagermaid_pyro&lt;/code&gt; 使程序重启。&lt;/li&gt;
&lt;li&gt;在任意对话中发送 &lt;code&gt;,sh rm -rf ./plugins/*&lt;/code&gt; ，然后重新安装插件。&lt;/li&gt;
&lt;li&gt;检查环境 Python 版本是否为 Python 3.8+ 。&lt;/li&gt;
&lt;li&gt;如仍然不能解决，请重新搭建 PagerMaid-Pyro 。&lt;/li&gt;
&lt;/ul&gt;
&lt;/blockquote&gt;
&lt;hr&gt;
&lt;h2 id=&#34;感谢阅读我是tutu欢迎加入我的telegram聊天群httpstmehututu000-&#34;&gt;感谢阅读，我是Tutu，欢迎加入我的Telegram聊天群：&lt;a class=&#34;link&#34; href=&#34;https://t.me/hututu000&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;https://t.me/hututu000&lt;/a&gt; 😻&lt;/h2&gt;
&lt;h2 id=&#34;感谢&#34;&gt;感谢&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;本文的featured image(pagermaid-logo) 来自 &lt;a class=&#34;link&#34; href=&#34;https://daydayday.day/posts/3282828936/&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;&lt;strong&gt;Wow&amp;rsquo;s Studio&lt;/strong&gt;&lt;/a&gt;。&lt;/li&gt;
&lt;/ul&gt;
</description>
        </item>
        
    </channel>
</rss>
